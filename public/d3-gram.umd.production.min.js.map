{"version":3,"file":"d3-gram.umd.production.min.js","sources":["../src/d3-gram-types.ts","../node_modules/@gram-data/gram-ast/src/gram-tokens.ts","../node_modules/@gram-data/gram-ast/src/index.ts","../node_modules/@gram-data/gram-builder/src/index.ts","../node_modules/@gram-data/gram-ops/src/index.ts","../node_modules/bail/index.js","../node_modules/is-buffer/index.js","../node_modules/extend/index.js","../node_modules/is-plain-obj/index.js","../node_modules/trough/wrap.js","../node_modules/trough/index.js","../node_modules/unist-util-stringify-position/index.js","../node_modules/vfile-message/index.js","../node_modules/vfile/lib/minpath.browser.js","../node_modules/vfile/lib/core.js","../node_modules/vfile/lib/minproc.browser.js","../node_modules/vfile/lib/index.js","../node_modules/vfile/index.js","../node_modules/unified/index.js","../node_modules/nearley/lib/nearley.js","../node_modules/@gram-data/gram-parse/src/gram-grammar.ts","../node_modules/moo/moo.js","../node_modules/@gram-data/gram-parse/src/gram-parser-plugin.ts","../node_modules/@gram-data/gram-parse/src/gram-errors.ts","../node_modules/nanoid/index.browser.js","../node_modules/unist-util-is/convert.js","../node_modules/unist-util-visit-parents/color.browser.js","../node_modules/unist-util-visit-parents/index.js","../node_modules/unist-util-visit/index.js","../node_modules/@gram-data/gram-identity/src/gram-identity-plugin.ts","../node_modules/@gram-data/gram-identity/src/identity-alphabets.ts","../node_modules/@gram-data/gram-value/src/gram-value.ts","../node_modules/@gram-data/gram-value/src/gram-value-plugin.ts","../node_modules/@gram-data/gram-preset-basic/src/index.ts","../node_modules/@gram-data/gram-identity/src/counter-generator.ts","../node_modules/@gram-data/gram-identity/src/nanoid-generator.ts","../src/d3-gram-parse.ts","../node_modules/d3-dispatch/src/dispatch.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/array.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/selectChild.js","../node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-drag/src/noevent.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/iterator.js","../node_modules/d3-drag/src/constant.js","../node_modules/d3-drag/src/event.js","../node_modules/d3-drag/src/drag.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/transform/decompose.js","../node_modules/d3-interpolate/src/transform/parse.js","../node_modules/d3-interpolate/src/transform/index.js","../node_modules/d3-timer/src/timer.js","../node_modules/d3-timer/src/timeout.js","../node_modules/d3-transition/src/transition/schedule.js","../node_modules/d3-transition/src/transition/tween.js","../node_modules/d3-transition/src/transition/interpolate.js","../node_modules/d3-transition/src/transition/attr.js","../node_modules/d3-transition/src/transition/attrTween.js","../node_modules/d3-transition/src/transition/delay.js","../node_modules/d3-transition/src/transition/duration.js","../node_modules/d3-transition/src/transition/ease.js","../node_modules/d3-transition/src/transition/on.js","../node_modules/d3-transition/src/transition/selection.js","../node_modules/d3-transition/src/transition/style.js","../node_modules/d3-transition/src/transition/styleTween.js","../node_modules/d3-transition/src/transition/textTween.js","../node_modules/d3-transition/src/transition/index.js","../node_modules/d3-transition/src/transition/select.js","../node_modules/d3-transition/src/transition/selectAll.js","../node_modules/d3-transition/src/transition/filter.js","../node_modules/d3-transition/src/transition/merge.js","../node_modules/d3-transition/src/transition/transition.js","../node_modules/d3-transition/src/transition/text.js","../node_modules/d3-transition/src/transition/remove.js","../node_modules/d3-transition/src/transition/easeVarying.js","../node_modules/d3-transition/src/transition/end.js","../node_modules/d3-transition/src/selection/transition.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-transition/src/selection/index.js","../node_modules/d3-transition/src/selection/interrupt.js","../node_modules/d3-transition/src/interrupt.js","../node_modules/d3-path/src/path.js","../node_modules/d3-quadtree/src/add.js","../node_modules/d3-quadtree/src/quad.js","../node_modules/d3-quadtree/src/x.js","../node_modules/d3-quadtree/src/y.js","../node_modules/d3-quadtree/src/quadtree.js","../node_modules/d3-force/src/constant.js","../node_modules/d3-force/src/jiggle.js","../node_modules/d3-force/src/collide.js","../node_modules/d3-force/src/link.js","../node_modules/d3-quadtree/src/cover.js","../node_modules/d3-quadtree/src/data.js","../node_modules/d3-quadtree/src/extent.js","../node_modules/d3-quadtree/src/find.js","../node_modules/d3-quadtree/src/remove.js","../node_modules/d3-quadtree/src/root.js","../node_modules/d3-quadtree/src/size.js","../node_modules/d3-quadtree/src/visit.js","../node_modules/d3-quadtree/src/visitAfter.js","../node_modules/d3-force/src/lcg.js","../node_modules/d3-force/src/simulation.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/symbol/circle.js","../node_modules/d3-shape/src/symbol/cross.js","../node_modules/d3-shape/src/symbol/diamond.js","../node_modules/d3-shape/src/symbol/star.js","../node_modules/d3-shape/src/symbol/square.js","../node_modules/d3-shape/src/symbol/triangle.js","../node_modules/d3-shape/src/symbol/wye.js","../node_modules/d3-shape/src/symbol.js","../src/d3-gram-layout.ts","../src/d3-gram-renderer.ts","../src/d3-gram-drag.ts","../node_modules/d3-drag/src/nodrag.js","../node_modules/d3-force/src/manyBody.js","../node_modules/d3-force/src/center.js"],"sourcesContent":["import { SimulationNodeDatum, SimulationLinkDatum } from 'd3-force';\n\nexport const MISSING_ID = '__missing_id__';\n\nexport type PathDatumRecord = { [key: string]: any };\n\nexport interface GramNodeDatum extends SimulationNodeDatum {\n  id: string;\n  labels: string[];\n  record: PathDatumRecord;\n}\n\nexport const makeGramNodeDatum = (\n  id?: string,\n  labels?: string[],\n  record?: PathDatumRecord\n) => {\n  return {\n    id: id || MISSING_ID,\n    labels: labels || [],\n    record: record || [],\n  };\n};\n\nexport const isGramNodeDatum = (o: any): o is GramNodeDatum => {\n  return (o as GramNodeDatum).id !== undefined;\n};\n\nexport interface GramLinkDatum extends SimulationLinkDatum<GramNodeDatum> {\n  id: string;\n  labels?: string[];\n  record: PathDatumRecord;\n}\n\nexport const makeGramLinkDatum = (\n  source: string,\n  target: string,\n  id?: string,\n  labels?: string[],\n  record?: PathDatumRecord\n) => {\n  return {\n    id: id || MISSING_ID,\n    labels: labels || [],\n    record: record || [],\n    source,\n    target,\n  };\n};\n\nexport interface GramPathDatum {\n  links: GramLinkDatum[];\n}\n\nexport interface GramGraphData {\n  nodes: GramNodeDatum[];\n  links: GramLinkDatum[];\n  paths: GramPathDatum[];\n}\n","export const boolean = /true|false|TRUE|FALSE\\b(?!@)/;\nexport const hexadecimal = /-?0x(?:[0-9a-fA-F]+)\\b(?!@)/;\nexport const octal = /-?0(?:[0-7]+)\\b(?!@)/;\nexport const measurement = /-?(?:[0-9]|[1-9][0-9]+)(?:\\.[0-9]+)?[a-zA-Z]+\\b(?!@)/;\nexport const decimal = /-?(?:[0-9]|[1-9][0-9]+)\\.[0-9]+(?:[eE][-+]?[0-9]+)?\\b(?!@)/;\nexport const integer = /-?(?:[0-9]|[1-9][0-9]+)(?:[eE][-+]?[0-9]+)?\\b(?!@)/;\nexport const taggedString = /[a-zA-Z][0-9a-zA-Z_@]*`(?:\\\\[`bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^`\\\\])*`/;\nexport const doubleQuotedString = /\"(?:\\\\[\"bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^\"\\\\])*\"/;\nexport const singleQuotedString = /'(?:\\\\['bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^'\\\\])*'/;\nexport const tickedString = /`(?:\\\\[`bfnrt/\\\\]|\\\\u[a-fA-F0-9]{4}|[^`\\\\])*`/;\nexport const symbol = /[a-zA-Z_][0-9a-zA-Z_]*\\b(?!@)/;\nexport const identifier = /[0-9a-zA-Z_@]+\\b@*/;\n\nconst checkIdentifierRegex = new RegExp('^' + identifier.source + '$');\n\n/**\n * Checks whether the given string is a valid identifier.\n *\n */\nexport const isValidIdentifier = (s?: string) =>\n  s && checkIdentifierRegex.test(s);\n","/**\n * # Gram AST Types\n *\n * References:\n *\n * - [unist](https://github.com/syntax-tree/unist) - Universal Synax Tree\n * - [AST](https://en.wikipedia.org/wiki/Abstract_syntax_tree)\n * @packageDocumentation\n */\n\nimport {\n  Parent as UnistParent,\n  Literal as UnistLiteral,\n  Node as UnistNode,\n} from 'unist';\nimport * as tokens from './gram-tokens';\n\nexport { tokens };\n\n/**\n * A GramSeq is a sequence of paths.\n *\n */\nexport interface GramSeq extends UnistParent {\n  /**\n   * Type discriminator for this AST element, aways 'seq'.\n   */\n  type: 'seq';\n\n  children: GramPath[];\n}\n\n/**\n * Type guard for GramSeq.\n *\n * @param o any object\n */\nexport const isGramSeq = (o: any): o is GramSeq => !!o.type && o.type === 'seq';\n\n///////////////////////////////////////////////////////////////////////////////\n// Path-like types...\n\n/**\n * GramPath is either empty, or the composition of two paths.\n */\nexport interface GramPath extends UnistParent {\n  /**\n   * Type discriminator for this AST element, always 'path'.\n   */\n  type: 'path';\n\n  /**\n   * An identifier for the path.\n   *\n   * For example, '1' in `()-[1]->()` or 'a' in `(a)`\n   */\n  id?: string;\n\n  /**\n   * The kind of path composition.\n   */\n  kind?: PathKind;\n\n  /**\n   * Labels are used to qualify a path.\n   *\n   * For example, 'Aye' in `(:Aye)` or 'KNOWS' in `(a)-[:KNOWS]->(b)`\n   */\n  labels?: string[];\n\n  /**\n   * The data content of the path.\n   */\n  record?: GramRecord;\n\n  /**\n   * The children are the path members which the path composed.\n   *\n   * The 'children' field is compatible with generic AST.\n   *\n   * Either:\n   * - no children\n   * - a single child with an implied RHS empty path\n   * - two children which are composed into a path\n   */\n  children: [] | [GramPath] | [GramPath, GramPath];\n}\n\n/**\n * Type guard for a Path.\n *\n * @param o any object\n */\nexport const isGramPath = (o: any): o is GramPath =>\n  !!o.type && o.type === 'path';\n\n/**\n * Constant identity for empty paths: `ø`.\n */\nexport const EMPTY_PATH_ID = 'ø';\n\n/**\n * A GramEmptyPath is an empty path with no children,\n * no labels, and no record\n * but a unique singleton identity of {@link EMPTY_PATH_ID}.\n */\nexport interface GramEmptyPath extends GramPath {\n  id: typeof EMPTY_PATH_ID;\n\n  labels: undefined;\n\n  record: undefined;\n\n  children: [];\n}\n\n/**\n * Type guard for GramEmptyPath.\n *\n * @param o any object\n */\nexport const isGramEmptyPath = (o: any): o is GramEmptyPath =>\n  isGramPath(o) && o.id === EMPTY_PATH_ID;\n\n/**\n * A GramNode is a special case of a path composed of two\n * empty paths, which is equivalent to having no children.\n */\nexport interface GramNode extends GramPath {\n  /**\n   * Optimized to no children, though understood\n   * to have two empty paths as children.\n   */\n  children: [];\n}\n\n/**\n * Type guard for GramNode.\n *\n * @param o any object\n */\nexport const isGramNode = (o: any): o is GramNode =>\n  isGramPath(o) &&\n  o.children &&\n  o.children.length === 0 &&\n  o.id !== EMPTY_PATH_ID;\n\n/**\n * A GramEdge is a special case of a path composed of\n * two GramNodes.\n *\n */\nexport interface GramEdge extends GramPath {\n  /**\n   * The adjacent Nodes of the Edge, known as \"children\" in the AST.\n   *\n   * children[0] is the 'left' Node\n   * children[1] is the 'right' Node\n   */\n  children: [GramNode, GramNode];\n}\n\n/**\n * Type guard for GramEdge.\n *\n * @param o any object\n */\nexport const isGramEdge = (o: any): o is GramEdge =>\n  isGramPath(o) &&\n  o.kind !== undefined &&\n  o.kind !== 'pair' &&\n  o.children !== undefined &&\n  o.children.every(child => isGramNode(child));\n\n/**\n * Kind of path which forms a graph relationship.\n *\n * One of:\n *\n * - left   `(a)<--(b)`\n * - right  `(a)-->(b)`\n * - either `(a)--(b)`\n *\n */\nexport type RelationshipKind = 'left' | 'right' | 'either';\n\n/**\n * Kind of path which combines two paths together\n * without implying any semantics.\n *\n * One of:\n *\n * - pair  `(a),(b)`\n *\n */\nexport type CombinationKind = 'pair';\n\n/**\n * PathKind describes the nature of the\n * path composition.\n *\n * One of:\n *\n * - RelationshipKind: 'left', 'right', 'either'\n * - CombinationKind:  `pair`\n */\nexport type PathKind = RelationshipKind | CombinationKind;\n\n/**\n * GramPathlike is a discriminated union of GramPath with\n * its two primary specializations, GramNode and GramEdge.\n */\nexport type GramPathlike = GramPath | GramNode | GramEdge;\n\n///////////////////////////////////////////////////////////////////////////////\n// Records...\n\n/**\n * GramRecordValue is a union of literals, literal arrays and nested records.\n * This forms a familiar OO-style structure.\n */\nexport type GramRecordValue = GramLiteral | GramRecord | GramRecordValue[];\n\n/**\n * A GramRecord is a map of name/value pairs.\n *\n */\nexport type GramRecord = Map<string, GramRecordValue>; // { [key: string]: GramRecordValue };\n\n/**\n * A type guard to narrow a GramRecordValue to a GramRecord.\n *\n * Warning: this is not a runtime guarantee\n *\n * @param v any GramRecordValue\n */\nexport const isGramRecord = (v: any): v is GramRecord =>\n  typeof v == 'object' && v instanceof Map;\n\nexport const isGramLiteralArray = (v: GramRecordValue): v is GramLiteral[] =>\n  Array.isArray(v) && isGramLiteral(v[0]);\n\n/**\n * A GramProperty is a name/value pair.\n */\nexport interface GramProperty extends UnistNode {\n  /**\n   * Type discriminator for this AST element, always 'property'.\n   */\n  type: 'property';\n\n  /**\n   * The property name.\n   */\n  name: string;\n\n  /**\n   * The property value. Either a single literal, an array of literals, or a GramRecord.\n   */\n  value: GramRecordValue;\n}\n\n/**\n * Type guard for GramProperty.\n *\n * @param o any object\n */\nexport const isGramProperty = (o: any): o is GramProperty =>\n  !!o.type && o.type === 'property';\n\n/**\n * Base interface for literals, all of which\n * only provide textual value representations.\n *\n */\ninterface TextLiteral extends UnistLiteral {\n  value: string;\n}\n\n/**\n * Discrimination union of all possible literals.\n */\nexport type GramLiteral =\n  | BooleanLiteral\n  | StringLiteral\n  | TaggedTextLiteral\n  | IntegerLiteral\n  | MeasurementLiteral\n  | DecimalLiteral\n  | HexadecimalLiteral\n  | OctalLiteral;\n\n/**\n * Type guard for GramLiteral.\n *\n * @param o any object\n */\nexport const isGramLiteral = (o: any): o is GramLiteral =>\n  !!o.type && !!o.value && o.type !== 'property';\n\n/**\n * Represents a boolean literal, like `true` or `false`.\n */\nexport interface BooleanLiteral extends TextLiteral {\n  /**\n   * Represents this variant of a Literal.\n   */\n  type: 'boolean';\n\n  value: 'true' | 'false';\n}\n\n/**\n * Type guard for BooleanLiteral.\n *\n * @param o any object\n */\nexport const isBooleanLiteral = (o: any): o is TextLiteral =>\n  !!o.type && !!o.value && o.type === 'boolean';\n\n/**\n * Represents a string literal, like \"hello\".\n */\nexport interface StringLiteral extends TextLiteral {\n  /**\n   * Represents this variant of a Literal.\n   */\n  type: 'string';\n}\n\n/**\n * Type guard for StringLiteral.\n *\n * @param o any object\n */\nexport const isStringLiteral = (o: any): o is TextLiteral =>\n  !!o.type && !!o.value && o.type === 'string';\n\n/**\n * Represents an integer number, like 235276234.\n * Note: there is no explicit min or max value.\n */\nexport interface IntegerLiteral extends TextLiteral {\n  type: 'integer';\n}\n\n/**\n * Type guard for IntegerLiteral.\n *\n * @param o any object\n */\nexport const isIntegerLiteral = (o: any): o is IntegerLiteral =>\n  !!o.type && !!o.value && o.type === 'integer';\n\n/**\n * Represents an decimal number, like 3.1495.\n * Note: there is no explicit min or max value.\n */\nexport interface DecimalLiteral extends TextLiteral {\n  type: 'decimal';\n}\n\n/**\n * Type guard for DecimalLiteral.\n *\n * @param o any object\n */\nexport const isDecimalLiteral = (o: any): o is DecimalLiteral =>\n  !!o.type && !!o.value && o.type === 'decimal';\n\n/**\n * Represents an integer expressed in hexadecimal, like 0xc0d3.\n *\n * The prefix `0x` signifies a hexadecimal value to follow.\n */\nexport interface HexadecimalLiteral extends TextLiteral {\n  type: 'hexadecimal';\n}\n\n/**\n * Type guard for HexadecimalLiteral.\n *\n * @param o any object\n */\nexport const isHexadecimalLiteral = (o: any): o is HexadecimalLiteral =>\n  !!o.type && !!o.value && o.type === 'hexadecimal';\n\n/**\n * Represents an integer expressed in octal, like 01372.\n *\n * The prefix `0` signifies octal notation value to follow.\n * Without the leading 0, the number would represent an integer.\n */\nexport interface OctalLiteral extends TextLiteral {\n  type: 'octal';\n}\n\n/**\n * Type guard for OctalLiteral.\n *\n * @param o any object\n */\nexport const isOctalLiteral = (o: any): o is OctalLiteral =>\n  !!o.type && !!o.value && o.type === 'octal';\n\n/**\n * Represents a decimal with units, like 12.4px or 42.0mm\n */\nexport interface MeasurementLiteral extends TextLiteral {\n  type: 'measurement';\n\n  /**\n   * The unit suffix of the decimal value.\n   */\n  unit: string;\n}\n\n/**\n * Type guard for MeasurementLiteral.\n *\n * @param o any object\n */\nexport const isMeasurementLiteral = (o: any): o is MeasurementLiteral =>\n  !!o.type && !!o.value && !!o.unit && o.type === 'measurement';\n\n///////////////////////////////////////\n// Tagged text literals\n\nexport type TaggedLiteral =\n  | DateLiteral\n  | TimeLiteral\n  | DateTimeLiteral\n  | TimeIntervalLiteral\n  | DurationLiteral\n  | WellKnownTextLiteral\n  | UriLiteral;\n/**\n * Represents a string value with a format indicated by a \"tag\".\n *\n * Some well-known tags:\n * - `md\\`# Hello World\\``\n * - `html\\`<h1>Hello World</h1>\\``\n * - `date\\`2020-07-14```\n * - `time\\`17:35:42\\``\n * - `uri\\`https://gram-data.github.io\\`\n * - `wkt\\`POINT(-83.123 42.123)\\``\n *\n * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals | Wikipedia Template literals}\n */\nexport interface TaggedTextLiteral extends TextLiteral {\n  type: 'tagged';\n\n  /**\n   * The tag prefix of the string value.\n   */\n  tag: string;\n}\n\n/**\n * Type guard for TaggedTextLiteral.\n *\n * @param o any object\n */\nexport const isTaggedLiteral = (o: any): o is TaggedLiteral =>\n  !!o.type && !!o.value && !!o.tag && o.type === 'tagged';\n\n/**\n * Represents an ISO8601 calendar date, like `2020-02-02`.\n *\n * @see {@link https://en.wikipedia.org/wiki/ISO_8601#Calendar_dates | Wikipedia ISO8601 Caelndar dates}\n */\nexport interface DateLiteral extends TaggedTextLiteral {\n  tag: 'date';\n}\n\n/**\n * Type guard for DateLiteral.\n *\n * Note: this does not validate the text representation.\n *\n * @param o any object\n */\nexport const isDateLiteral = (o: any): o is DateLiteral =>\n  !!o.type && !!o.value && !!o.tag && o.type === 'tagged' && o.tag === 'date';\n\n/**\n * Represents an ISO8601 time, like `13:47:30`.\n *\n * @see {@link https://en.wikipedia.org/wiki/ISO_8601#Times | Wikipedia ISO8601 Times}\n */\nexport interface TimeLiteral extends TaggedTextLiteral {\n  tag: 'time';\n}\n\n/**\n * Type guard for TimeLiteral.\n *\n * Note: this does not validate the text representation.\n *\n * @param o any object\n */\nexport const isTimeLiteral = (o: any): o is TaggedTextLiteral =>\n  !!o.type && !!o.value && !!o.tag && o.type === 'tagged' && o.tag === 'time';\n\n/**\n * Represents an ISO8601 date-time, like `2007-04-05T14:30Z` which is\n * a date followed by a time, separated by a 'T'.\n *\n * @see {@link https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations | Wikipedia ISO8601 Date and time}\n */\nexport interface DateTimeLiteral extends TaggedTextLiteral {\n  tag: 'datetime';\n}\n\n/**\n * Type guard for DateTimeLiteral.\n *\n * Note: this does not validate the text representation.\n *\n * @param o any object\n */\nexport const isDateTimeLiteral = (o: any): o is DateTimeLiteral =>\n  !!o.type &&\n  !!o.value &&\n  !!o.tag &&\n  o.type === 'tagged' &&\n  o.tag === 'datetime';\n\n/**\n * Represents an ISO8601 duration, like `P23DT23H`.\n *\n * @see {@link https://en.wikipedia.org/wiki/ISO_8601#Durations | Wikipedia ISO8601 Durations}\n */\nexport interface DurationLiteral extends TaggedTextLiteral {\n  tag: 'duration';\n}\n\n/**\n * Type guard for DurationLiteral.\n *\n * Note: this does not validate the text representation.\n *\n * @param o any object\n */\nexport const isDuration = (o: any): o is DurationLiteral =>\n  !!o.type &&\n  !!o.value &&\n  !!o.tag &&\n  o.type === 'tagged' &&\n  o.tag === 'duration';\n\n/**\n * Represents an ISO8601 time interval, like `2007-03-01T13:00:00Z/2008-05-11T15:30:00Z`.\n *\n * This can also represent a repeating interval.\n *\n * @see {@link https://en.wikipedia.org/wiki/ISO_8601#Time_intervals | Wikipedia ISO8601 Time_intervals}\n * @see {@link https://en.wikipedia.org/wiki/ISO_8601#Repeating_intervals | Wikipedia ISO8601 Repeating_intervals}\n */\nexport interface TimeIntervalLiteral extends TaggedTextLiteral {\n  tag: 'interval';\n}\n\n/**\n * Type guard for TimeIntervalLiteral.\n *\n * Note: this does not validate the text representation.\n *\n * @param o any object\n */\nexport const isTimeInterval = (o: any): o is TimeIntervalLiteral =>\n  !!o.type &&\n  !!o.value &&\n  !!o.tag &&\n  o.type === 'tagged' &&\n  o.tag === 'interval';\n\n/**\n * Represents a WKT 2 geospatial value, like `POINT(-83.123 42.123)`\n *\n * @see {@link http://docs.opengeospatial.org/is/18-010r7/18-010r7.html | Opengeospatial WKT}\n * @see {@link https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry | Wikipedia Well-known text geometry}\n */\nexport interface WellKnownTextLiteral extends TaggedTextLiteral {\n  tag: 'wkt';\n}\n\n/**\n * Type guard for WellKnownTextLiteral.\n *\n * @param o any object\n */\nexport const isWellKnownTextLiteral = (o: any): o is WellKnownTextLiteral =>\n  !!o.type && !!o.value && !!o.tag && o.type === 'tagged' && o.tag === 'wkt';\n\n/**\n * Represents a well-formed URI.\n *\n * ## Some examples:\n *\n * ### `geo`\n *\n * > A 'geo' URI identifies a physical location in a two- or three-dimensional\n * > coordinate reference system in a compact, simple, human-readable, and\n * > protocol-independent way.\n *\n * ```\n * uri`geo:39.282495,-76.594709`\n * ```\n *\n * @see {@link https://tools.ietf.org/html/rfc5870 | IETF RFC5870 }\n *\n * ### `plus`\n *\n * > A 'plus' URI identifies a physical location encoded as\n * > Open Location Code, a \"plus code\".\n *\n * ```\n * uri`plus:7CJ4+W4 Baltimore, MD`\n * ```\n *\n * @see {@link https://github.com/google/open-location-code | Open Location Code }\n *\n * ### `h3`\n *\n * > An 'h3' URI identifies a physical location encoded using\n * > the H3 geospatial indexing system, a multi-precision hexagonal\n * > tiling of the sphere indexed with hierarchical linear indexes.\n *\n * ```\n * uri`h3:8c2aa8c76b11bff`\n * ```\n *\n * @see {@link https://h3geo.org | H3 }\n *\n * ### `http(s)`\n *\n * > Hopefully This Thing Presents Sensibly, a popular scheme used\n * >on the interwebs.\n *\n */\nexport interface UriLiteral extends TaggedTextLiteral {\n  tag: 'uri';\n}\n\n/**\n * Type guard for UriLiteral.\n *\n * @param o any object\n */\nexport const isUriLiteral = (o: any): o is UriLiteral =>\n  !!o.type && !!o.value && !!o.tag && o.type === 'tagged' && o.tag === 'uri';\n","/**\n * gram-builder package.\n *\n * @packageDocumentation\n */\n\nimport { Node as UnistNode } from 'unist';\nimport {\n  GramSeq,\n  GramPath,\n  GramNode,\n  GramEdge,\n  GramProperty,\n  GramRecordValue,\n  BooleanLiteral,\n  StringLiteral,\n  IntegerLiteral,\n  DecimalLiteral,\n  HexadecimalLiteral,\n  OctalLiteral,\n  MeasurementLiteral,\n  GramRecord,\n  GramEmptyPath,\n  isGramNode,\n  isGramEmptyPath,\n  EMPTY_PATH_ID,\n  DateLiteral,\n  TimeLiteral,\n  DurationLiteral,\n  PathKind,\n  RelationshipKind,\n  TaggedTextLiteral,\n  isGramLiteral,\n  isGramRecord,\n} from '@gram-data/gram-ast';\n\nexport type Children<T> = T | T[] | (() => T | T[]);\n\nfunction normalizeChildren<T extends UnistNode>(children?: Children<T>): T[] {\n  if (Array.isArray(children)) {\n    return children;\n  } else if (children instanceof Function) {\n    const res = children();\n    return normalizeChildren<T>(res);\n  } else if (typeof children === 'undefined') {\n    return [];\n  } else {\n    return [children];\n  }\n}\n\nconst dateToYMD = (d: Date) => d.toISOString().slice(0, 10);\n\nconst dateToDayOfMonth = (d: Date) => '--' + d.toISOString().slice(5, 10);\n\n/**\n * Build a path sequence that represents a graph.\n *\n * @param paths sequence of paths through history\n * @param id optional reference identifier. The \"name\" of this graph instance.\n * @param labels optional labels\n * @param record optional graph-level data\n */\nexport const seq = (\n  paths: Children<GramPath>,\n  id?: string,\n  labels?: string[],\n  record?: GramRecord\n): GramSeq => ({\n  type: 'seq',\n  id,\n  ...(labels && { labels }),\n  ...(record && { record }),\n  children: normalizeChildren<GramPath>(paths),\n});\n\nexport interface PathAttributes {\n  id?: string;\n  labels?: string[];\n  record?: GramRecord;\n  kind?: PathKind;\n}\n\n/**\n * Reduce a list of paths into a single path composed using the given kind.\n *\n * @param kind the kind to apply to all sub-paths\n * @param pathlist sub-paths to be paired\n * @param baseID the baseID from which path expressions will derive new IDs\n */\nexport const listToPath = (\n  kind: PathKind = 'pair',\n  pathlist: GramPath[]\n): GramPath => {\n  if (pathlist.length > 1) {\n    return pathlist\n      .slice(0, pathlist.length - 1)\n      .reduceRight((acc: GramPath, curr) => {\n        return cons([curr, acc], { kind });\n      }, pathlist[pathlist.length - 1]);\n  } else {\n    return pathlist[0];\n  }\n};\n\n/**\n * Build a path.\n *\n * @param members sub-paths to compose\n * @param attributes attributes\n */\nexport const cons = (\n  members?: [] | [GramPath] | [GramPath, GramPath],\n  attributes: PathAttributes = {}\n): GramPath => {\n  const element: any = {\n    type: 'path',\n    ...(attributes.id && { id: attributes.id }),\n    ...(attributes.labels && { labels: attributes.labels }),\n    ...(attributes.record && { record: attributes.record }),\n    // children: members ? members.filter(child => child && !isGramEmptyPath(child)) : undefined,\n  };\n  if (members === undefined) {\n    if (element.id && element.id !== EMPTY_PATH_ID) {\n      element.children = [];\n      return element;\n    }\n    element.children = undefined;\n    return EMPTY_PATH;\n  } else if (members.length === 0) {\n    if (element.id === EMPTY_PATH_ID) {\n      return EMPTY_PATH;\n    }\n    element.children = [];\n    return element as GramNode;\n  } else if (members.length === 1) {\n    const lhs = members[0];\n\n    if (isGramEmptyPath(lhs)) {\n      element.children = [];\n      return element as GramNode;\n    } else {\n      element.children = [lhs];\n      return element as GramPath;\n    }\n  } else if (members.length === 2) {\n    if (\n      attributes.kind &&\n      attributes.kind !== 'pair' &&\n      isGramNode(members[0]) &&\n      isGramNode(members[1])\n    ) {\n      element.kind = attributes.kind;\n      element.children = [members[0], members[1]];\n      return element as GramEdge;\n    } else if (isGramEmptyPath(members[0]) && isGramEmptyPath(members[1])) {\n      element.kind = attributes.kind;\n      element.children = [];\n      return element as GramNode;\n    }\n    element.children = [members[0], members[1]];\n  }\n  element.kind = attributes.kind || 'pair';\n  return element as GramPath;\n};\n\n/**\n * Singleton instance of GramEmptyPath\n */\nconst EMPTY_PATH: GramEmptyPath = {\n  type: 'path',\n  id: EMPTY_PATH_ID,\n  labels: undefined,\n  record: undefined,\n  children: [],\n};\n\n/**\n * Convenience function for retrieving the singleton GramEmptyPath.\n */\nexport const empty = (): GramEmptyPath => EMPTY_PATH;\n\n/**\n * Build a GramNode.\n *\n * @param id identifier\n * @param labels\n * @param record\n * @param annotation\n */\nexport const node = (\n  id?: string,\n  labels?: string[],\n  record?: GramRecord\n): GramNode => ({\n  type: 'path',\n  ...(id && { id }),\n  ...(labels && { labels }),\n  ...(record && { record }),\n  children: [],\n});\n\n/**\n * Build an Edge.\n *\n * @param children\n * @param kind\n * @param id\n * @param labels\n * @param record\n */\nexport const edge = (\n  children: [GramNode, GramNode],\n  kind: RelationshipKind,\n  id?: string,\n  labels?: string[],\n  record?: GramRecord\n): GramEdge => ({\n  type: 'path',\n  id,\n  ...(labels && { labels }),\n  ...(record && { record }),\n  kind,\n  children,\n});\n\n/**\n * Build a pair\n *\n * @param children\n * @param id\n * @param labels\n * @param record\n */\nexport const path = (\n  kind: PathKind,\n  members: [GramPath, GramPath],\n  id?: string,\n  labels?: string[],\n  record?: GramRecord\n): GramPath => ({\n  type: 'path',\n  kind,\n  id,\n  ...(labels && { labels }),\n  ...(record && { record }),\n  children: members,\n});\n\n/**\n * Build a pair\n *\n * @param children\n * @param id\n * @param labels\n * @param record\n */\nexport const pair = (\n  members: [GramPath, GramPath],\n  id?: string,\n  labels?: string[],\n  record?: GramRecord\n): GramPath => path('pair', members, id, labels, record);\n\n/**\n * Create a new, empty GramRecord.\n *\n */\nexport const emptyRecord = () => new Map<string, GramRecordValue>();\n\n/**\n * Reduces an array of GramProperties into a GramRecord.\n *\n * @param properties\n */\nexport const propertiesToRecord = (properties: GramProperty[]): GramRecord => {\n  return properties.reduce((acc: GramRecord, p: GramProperty) => {\n    acc.set(p.name, p.value);\n    return acc;\n  }, emptyRecord());\n};\n\n/**\n * Transforms a plain js object into a GramRecord.\n *\n * @param o\n */\nexport const objectToRecord = (o: any): GramRecord => {\n  return Object.entries(o).reduce((acc: GramRecord, [k, v]) => {\n    acc.set(k, propertyValue(v));\n    return acc;\n  }, emptyRecord());\n};\n\n/**\n * Extracts the value from a GramLiteral, if available.\n *\n * @param l\n */\nexport const getValue = (l: GramRecordValue | undefined) =>\n  isGramLiteral(l) ? l.value : undefined;\n\n/**\n * Produces a Lens into a literal value with a GramRecord.\n *\n * @param path\n */\nexport const getLiteral = (name: string) => {\n  return (v: GramRecord) => {\n    const l = v.get(name);\n    return getValue(l);\n  };\n};\n\n/**\n * Produces a Lens into a record value with a GramRecord.\n *\n * @param path\n */\nexport const getRecord = (name: string) => {\n  return (r: GramRecord) => {\n    const v = r.get(name);\n    return isGramRecord(v) ? v : undefined;\n  };\n};\n\n/**\n * Produces a Lens down into nested GramRecords.\n *\n * ### Examples:\n *\n * Descend using either an array of names, or dot notation.\n *\n * ```\n * const o = g.objectToRecord({a:{b:{c:g.string(\"value\")}}})\n *\n * const getAbc1 = g.getDown(['a','b','c']);\n * const getAbc2 = g.getDown(\"a.b.c\");\n *\n * expect(getAbc1(o)).toStrictEqual(getAbc2(o));\n * ```\n *\n * Descend, then apply a function to extract the text value.\n *\n * ```\n * const o = objectToRecord({a:{b:{c:string(\"value\")}}})\n * const getAbc = getDown(\"a.b.c\", getValue);\n *\n * expect(getAbc(o)).toBe(\"value\");\n * ```\n *\n * @param hierarchy array or dot-notation path to descend\n */\nexport const getDown = (\n  hierarchy: string[] | string,\n  f?: (r: GramRecordValue) => any\n) => {\n  const pathDown = Array.isArray(hierarchy) ? hierarchy : hierarchy.split('.');\n  return (r: GramRecord) => {\n    const bottom = pathDown.reduce(\n      (acc, name) => (isGramRecord(acc) ? acc.get(name) : undefined),\n      r as GramRecordValue | undefined\n    );\n    return bottom && (f ? f(bottom) : bottom);\n  };\n};\n\n/**\n * Builds a GramProperty from a name\n * @param name\n * @param value\n */\nexport const property = (name: string, value: any): GramProperty => {\n  const Node: GramProperty = {\n    type: 'property',\n    name,\n    value: isGramLiteral(value) ? value : propertyValue(value),\n  };\n  return Node;\n};\n\nexport const propertyValue = (value: any): GramRecordValue => {\n  if (Array.isArray(value)) {\n    return value.map(v => propertyValue(v));\n  } else if (typeof value === 'object') {\n    if (value instanceof Date) {\n      return date(value);\n    } else if (isGramLiteral(value)) {\n      return value;\n    }\n    return objectToRecord(value);\n  } else {\n    switch (typeof value) {\n      case 'string':\n        return string(value);\n      case 'bigint':\n        return decimal(value.toString());\n      case 'boolean':\n        return boolean(value);\n      case 'number':\n        return decimal(value.toString());\n      case 'symbol':\n        return string(value.toString());\n      default:\n        throw new Error(`Unsupported value: ${value}`);\n    }\n  }\n};\n\nexport const boolean = (value: boolean): BooleanLiteral => ({\n  type: 'boolean',\n  value: value ? 'true' : 'false',\n});\n\nexport const string = (value: string): StringLiteral => ({\n  type: 'string',\n  value,\n});\n\nexport const tagged = (tag: string, value: string): TaggedTextLiteral => ({\n  type: 'tagged',\n  value,\n  tag,\n});\n\nexport const integer = (value: string | number): IntegerLiteral => ({\n  type: 'integer',\n  value: String(value),\n});\n\nexport const decimal = (value: string | number): DecimalLiteral => ({\n  type: 'decimal',\n  value: String(value),\n});\n\nexport const hexadecimal = (value: string | number): HexadecimalLiteral => ({\n  type: 'hexadecimal',\n  value: typeof value === 'number' ? value.toString(16) : value,\n});\n\nexport const octal = (value: string | number): OctalLiteral => ({\n  type: 'octal',\n  value: typeof value === 'number' ? value.toString(8) : value,\n});\n\nexport const measurement = (\n  unit: string,\n  value: string | number\n): MeasurementLiteral => ({\n  type: 'measurement',\n  value: String(value),\n  unit,\n});\n\nexport const year = (value: string | Date): DateLiteral =>\n  tagged(\n    'date',\n    value instanceof Date ? value.getFullYear().toString() : value\n  ) as DateLiteral;\n\nexport const date = (value: string | Date): DateLiteral =>\n  tagged(\n    'date',\n    value instanceof Date ? dateToYMD(value) : value\n  ) as DateLiteral;\n\nexport const dayOfMonth = (value: string | Date): DateLiteral =>\n  tagged(\n    'date',\n    value instanceof Date ? dateToDayOfMonth(value) : value\n  ) as DateLiteral;\n\nexport const time = (value: string | Date): TimeLiteral =>\n  tagged(\n    'time',\n    value instanceof Date ? value.toTimeString() : value\n  ) as TimeLiteral;\n\nexport const duration = (value: string | Date): DurationLiteral =>\n  tagged(\n    'duration',\n    value instanceof Date\n      ? `P${value.getUTCFullYear() -\n          1970}Y${value.getUTCMonth()}M${value.getUTCDate()}DT${value.getUTCHours()}H${value.getUTCMinutes()}M${value.getUTCMilliseconds() /\n          1000}S`\n      : value\n  ) as DurationLiteral;\n\nexport const flatten = (xs: any[], depth = 1) =>\n  xs.flat(depth).filter(x => x !== null);\n\nexport default {\n  seq,\n  empty,\n  cons,\n  pair,\n  listToPath,\n  node,\n  edge,\n  property,\n  boolean,\n  string,\n  tagged,\n  integer,\n  decimal,\n  hexadecimal,\n  octal,\n  measurement,\n  date,\n  time,\n  duration,\n  flatten,\n  objectToRecord,\n  propertiesToRecord,\n  propertyValue,\n  fromLiteral: getLiteral,\n};\n","import {\n  GramEdge,\n  GramNode,\n  GramPath,\n  GramSeq,\n  isGramNode,\n  isGramSeq,\n} from '@gram-data/gram-ast';\nimport { edge } from '@gram-data/gram-builder';\n\nexport const count = (p: GramPath): number => {\n  return (p.children as GramPath[]).reduce(\n    (acc: number, child: GramPath) => acc + count(child),\n    1\n  );\n};\n\nexport const head = (p: GramPath): GramNode => {\n  return p.children === undefined || p.children.length === 0\n    ? (p as GramNode)\n    : head(p.children[0]);\n};\n\nexport const tail = (p: GramPath): GramNode => {\n  return p.children === undefined || p.children.length === 0\n    ? (p as GramNode)\n    : tail(p.children[p.children.length - 1]);\n};\n\nexport const merge = (_: GramPath, next: GramPath) => {\n  // return path\n  return next;\n};\n\nexport const identity = (p: GramPath) => {\n  return p.id;\n};\n\n/**\n * Node set projected from within a path.\n *\n * @param p paths from which to project nodes\n */\nexport const nodes = (p: GramPath | GramPath[] | GramSeq): GramNode[] => {\n  if (isGramNode(p)) return [p];\n  if (isGramSeq(p)) return nodes(p.children);\n  if (Array.isArray(p)) {\n    const unidentifiedNodes: GramNode[] = [];\n    const nodemap = p\n      .map(nodes)\n      .flat()\n      .reduce((acc: Map<string, GramNode>, child: GramNode) => {\n        if (child.id) {\n          if (acc.has(child.id)) {\n            acc.set(child.id, Object.assign(acc.get(child.id), child));\n          } else {\n            acc.set(child.id, child);\n          }\n        } else {\n          unidentifiedNodes.push(child);\n        }\n        return acc;\n      }, new Map<string, GramNode>());\n    return Array.from(nodemap.values()).concat(unidentifiedNodes);\n  } else {\n    return nodes(p.children);\n  }\n};\n\nexport const edges = (p: GramPath): GramEdge[] => {\n  return p === undefined\n    ? []\n    : p.children === undefined || p.children.length === 0\n    ? []\n    : p.children.length === 2\n    ? [\n        ...edges(p.children[0]),\n        ...(p.kind !== undefined && p.kind !== 'pair'\n          ? [\n              edge(\n                [tail(p.children[0]), head(p.children[1])],\n                p.kind,\n                p.id,\n                p.labels,\n                p.record\n              ),\n            ]\n          : ([] as GramEdge[])),\n        ...edges(p.children[1]),\n      ]\n    : p.children.reduce(\n        (acc: GramEdge[], child: GramPath) => [...acc, ...edges(child)],\n        [] as GramEdge[]\n      );\n};\n","'use strict'\n\nmodule.exports = bail\n\nfunction bail(err) {\n  if (err) {\n    throw err\n  }\n}\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","'use strict';\n\nmodule.exports = value => {\n\tif (Object.prototype.toString.call(value) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn prototype === null || prototype === Object.prototype;\n};\n","'use strict'\n\nvar slice = [].slice\n\nmodule.exports = wrap\n\n// Wrap `fn`.\n// Can be sync or async; return a promise, receive a completion handler, return\n// new values and errors.\nfunction wrap(fn, callback) {\n  var invoked\n\n  return wrapped\n\n  function wrapped() {\n    var params = slice.call(arguments, 0)\n    var callback = fn.length > params.length\n    var result\n\n    if (callback) {\n      params.push(done)\n    }\n\n    try {\n      result = fn.apply(null, params)\n    } catch (error) {\n      // Well, this is quite the pickle.\n      // `fn` received a callback and invoked it (thus continuing the pipeline),\n      // but later also threw an error.\n      // We’re not about to restart the pipeline again, so the only thing left\n      // to do is to throw the thing instead.\n      if (callback && invoked) {\n        throw error\n      }\n\n      return done(error)\n    }\n\n    if (!callback) {\n      if (result && typeof result.then === 'function') {\n        result.then(then, done)\n      } else if (result instanceof Error) {\n        done(result)\n      } else {\n        then(result)\n      }\n    }\n  }\n\n  // Invoke `next`, only once.\n  function done() {\n    if (!invoked) {\n      invoked = true\n\n      callback.apply(null, arguments)\n    }\n  }\n\n  // Invoke `done` with one value.\n  // Tracks if an error is passed, too.\n  function then(value) {\n    done(null, value)\n  }\n}\n","'use strict'\n\nvar wrap = require('./wrap.js')\n\nmodule.exports = trough\n\ntrough.wrap = wrap\n\nvar slice = [].slice\n\n// Create new middleware.\nfunction trough() {\n  var fns = []\n  var middleware = {}\n\n  middleware.run = run\n  middleware.use = use\n\n  return middleware\n\n  // Run `fns`.  Last argument must be a completion handler.\n  function run() {\n    var index = -1\n    var input = slice.call(arguments, 0, -1)\n    var done = arguments[arguments.length - 1]\n\n    if (typeof done !== 'function') {\n      throw new Error('Expected function as last argument, not ' + done)\n    }\n\n    next.apply(null, [null].concat(input))\n\n    // Run the next `fn`, if any.\n    function next(err) {\n      var fn = fns[++index]\n      var params = slice.call(arguments, 0)\n      var values = params.slice(1)\n      var length = input.length\n      var pos = -1\n\n      if (err) {\n        done(err)\n        return\n      }\n\n      // Copy non-nully input into values.\n      while (++pos < length) {\n        if (values[pos] === null || values[pos] === undefined) {\n          values[pos] = input[pos]\n        }\n      }\n\n      input = values\n\n      // Next or done.\n      if (fn) {\n        wrap(fn, next).apply(null, input)\n      } else {\n        done.apply(null, [null].concat(input))\n      }\n    }\n  }\n\n  // Add `fn` to the list.\n  function use(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('Expected `fn` to be a function, not ' + fn)\n    }\n\n    fns.push(fn)\n\n    return middleware\n  }\n}\n","'use strict'\n\nvar own = {}.hasOwnProperty\n\nmodule.exports = stringify\n\nfunction stringify(value) {\n  // Nothing.\n  if (!value || typeof value !== 'object') {\n    return ''\n  }\n\n  // Node.\n  if (own.call(value, 'position') || own.call(value, 'type')) {\n    return position(value.position)\n  }\n\n  // Position.\n  if (own.call(value, 'start') || own.call(value, 'end')) {\n    return position(value)\n  }\n\n  // Point.\n  if (own.call(value, 'line') || own.call(value, 'column')) {\n    return point(value)\n  }\n\n  // ?\n  return ''\n}\n\nfunction point(point) {\n  if (!point || typeof point !== 'object') {\n    point = {}\n  }\n\n  return index(point.line) + ':' + index(point.column)\n}\n\nfunction position(pos) {\n  if (!pos || typeof pos !== 'object') {\n    pos = {}\n  }\n\n  return point(pos.start) + '-' + point(pos.end)\n}\n\nfunction index(value) {\n  return value && typeof value === 'number' ? value : 1\n}\n","'use strict'\n\nvar stringify = require('unist-util-stringify-position')\n\nmodule.exports = VMessage\n\n// Inherit from `Error#`.\nfunction VMessagePrototype() {}\nVMessagePrototype.prototype = Error.prototype\nVMessage.prototype = new VMessagePrototype()\n\n// Message properties.\nvar proto = VMessage.prototype\n\nproto.file = ''\nproto.name = ''\nproto.reason = ''\nproto.message = ''\nproto.stack = ''\nproto.fatal = null\nproto.column = null\nproto.line = null\n\n// Construct a new VMessage.\n//\n// Note: We cannot invoke `Error` on the created context, as that adds readonly\n// `line` and `column` attributes on Safari 9, thus throwing and failing the\n// data.\nfunction VMessage(reason, position, origin) {\n  var parts\n  var range\n  var location\n\n  if (typeof position === 'string') {\n    origin = position\n    position = null\n  }\n\n  parts = parseOrigin(origin)\n  range = stringify(position) || '1:1'\n\n  location = {\n    start: {line: null, column: null},\n    end: {line: null, column: null}\n  }\n\n  // Node.\n  if (position && position.position) {\n    position = position.position\n  }\n\n  if (position) {\n    // Position.\n    if (position.start) {\n      location = position\n      position = position.start\n    } else {\n      // Point.\n      location.start = position\n    }\n  }\n\n  if (reason.stack) {\n    this.stack = reason.stack\n    reason = reason.message\n  }\n\n  this.message = reason\n  this.name = range\n  this.reason = reason\n  this.line = position ? position.line : null\n  this.column = position ? position.column : null\n  this.location = location\n  this.source = parts[0]\n  this.ruleId = parts[1]\n}\n\nfunction parseOrigin(origin) {\n  var result = [null, null]\n  var index\n\n  if (typeof origin === 'string') {\n    index = origin.indexOf(':')\n\n    if (index === -1) {\n      result[1] = origin\n    } else {\n      result[0] = origin.slice(0, index)\n      result[1] = origin.slice(index + 1)\n    }\n  }\n\n  return result\n}\n","'use strict'\n\n// A derivative work based on:\n// <https://github.com/browserify/path-browserify>.\n// Which is licensed:\n//\n// MIT License\n//\n// Copyright (c) 2013 James Halliday\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy of\n// this software and associated documentation files (the \"Software\"), to deal in\n// the Software without restriction, including without limitation the rights to\n// use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of\n// the Software, and to permit persons to whom the Software is furnished to do so,\n// subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in all\n// copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS\n// FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\n// COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER\n// IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\n// CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n// A derivative work based on:\n//\n// Parts of that are extracted from Node’s internal `path` module:\n// <https://github.com/nodejs/node/blob/master/lib/path.js>.\n// Which is licensed:\n//\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nexports.basename = basename\nexports.dirname = dirname\nexports.extname = extname\nexports.join = join\nexports.sep = '/'\n\nfunction basename(path, ext) {\n  var start = 0\n  var end = -1\n  var index\n  var firstNonSlashEnd\n  var seenNonSlash\n  var extIndex\n\n  if (ext !== undefined && typeof ext !== 'string') {\n    throw new TypeError('\"ext\" argument must be a string')\n  }\n\n  assertPath(path)\n  index = path.length\n\n  if (ext === undefined || !ext.length || ext.length > path.length) {\n    while (index--) {\n      if (path.charCodeAt(index) === 47 /* `/` */) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now.\n        if (seenNonSlash) {\n          start = index + 1\n          break\n        }\n      } else if (end < 0) {\n        // We saw the first non-path separator, mark this as the end of our\n        // path component.\n        seenNonSlash = true\n        end = index + 1\n      }\n    }\n\n    return end < 0 ? '' : path.slice(start, end)\n  }\n\n  if (ext === path) {\n    return ''\n  }\n\n  firstNonSlashEnd = -1\n  extIndex = ext.length - 1\n\n  while (index--) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (seenNonSlash) {\n        start = index + 1\n        break\n      }\n    } else {\n      if (firstNonSlashEnd < 0) {\n        // We saw the first non-path separator, remember this index in case\n        // we need it if the extension ends up not matching.\n        seenNonSlash = true\n        firstNonSlashEnd = index + 1\n      }\n\n      if (extIndex > -1) {\n        // Try to match the explicit extension.\n        if (path.charCodeAt(index) === ext.charCodeAt(extIndex--)) {\n          if (extIndex < 0) {\n            // We matched the extension, so mark this as the end of our path\n            // component\n            end = index\n          }\n        } else {\n          // Extension does not match, so our result is the entire path\n          // component\n          extIndex = -1\n          end = firstNonSlashEnd\n        }\n      }\n    }\n  }\n\n  if (start === end) {\n    end = firstNonSlashEnd\n  } else if (end < 0) {\n    end = path.length\n  }\n\n  return path.slice(start, end)\n}\n\nfunction dirname(path) {\n  var end\n  var unmatchedSlash\n  var index\n\n  assertPath(path)\n\n  if (!path.length) {\n    return '.'\n  }\n\n  end = -1\n  index = path.length\n\n  // Prefix `--` is important to not run on `0`.\n  while (--index) {\n    if (path.charCodeAt(index) === 47 /* `/` */) {\n      if (unmatchedSlash) {\n        end = index\n        break\n      }\n    } else if (!unmatchedSlash) {\n      // We saw the first non-path separator\n      unmatchedSlash = true\n    }\n  }\n\n  return end < 0\n    ? path.charCodeAt(0) === 47 /* `/` */\n      ? '/'\n      : '.'\n    : end === 1 && path.charCodeAt(0) === 47 /* `/` */\n    ? '//'\n    : path.slice(0, end)\n}\n\nfunction extname(path) {\n  var startDot = -1\n  var startPart = 0\n  var end = -1\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find.\n  var preDotState = 0\n  var unmatchedSlash\n  var code\n  var index\n\n  assertPath(path)\n\n  index = path.length\n\n  while (index--) {\n    code = path.charCodeAt(index)\n\n    if (code === 47 /* `/` */) {\n      // If we reached a path separator that was not part of a set of path\n      // separators at the end of the string, stop now.\n      if (unmatchedSlash) {\n        startPart = index + 1\n        break\n      }\n\n      continue\n    }\n\n    if (end < 0) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension.\n      unmatchedSlash = true\n      end = index + 1\n    }\n\n    if (code === 46 /* `.` */) {\n      // If this is our first dot, mark it as the start of our extension.\n      if (startDot < 0) {\n        startDot = index\n      } else if (preDotState !== 1) {\n        preDotState = 1\n      }\n    } else if (startDot > -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension.\n      preDotState = -1\n    }\n  }\n\n  if (\n    startDot < 0 ||\n    end < 0 ||\n    // We saw a non-dot character immediately before the dot.\n    preDotState === 0 ||\n    // The (right-most) trimmed path component is exactly `..`.\n    (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)\n  ) {\n    return ''\n  }\n\n  return path.slice(startDot, end)\n}\n\nfunction join() {\n  var index = -1\n  var joined\n\n  while (++index < arguments.length) {\n    assertPath(arguments[index])\n\n    if (arguments[index]) {\n      joined =\n        joined === undefined\n          ? arguments[index]\n          : joined + '/' + arguments[index]\n    }\n  }\n\n  return joined === undefined ? '.' : normalize(joined)\n}\n\n// Note: `normalize` is not exposed as `path.normalize`, so some code is\n// manually removed from it.\nfunction normalize(path) {\n  var absolute\n  var value\n\n  assertPath(path)\n\n  absolute = path.charCodeAt(0) === 47 /* `/` */\n\n  // Normalize the path according to POSIX rules.\n  value = normalizeString(path, !absolute)\n\n  if (!value.length && !absolute) {\n    value = '.'\n  }\n\n  if (value.length && path.charCodeAt(path.length - 1) === 47 /* / */) {\n    value += '/'\n  }\n\n  return absolute ? '/' + value : value\n}\n\n// Resolve `.` and `..` elements in a path with directory names.\nfunction normalizeString(path, allowAboveRoot) {\n  var result = ''\n  var lastSegmentLength = 0\n  var lastSlash = -1\n  var dots = 0\n  var index = -1\n  var code\n  var lastSlashIndex\n\n  while (++index <= path.length) {\n    if (index < path.length) {\n      code = path.charCodeAt(index)\n    } else if (code === 47 /* `/` */) {\n      break\n    } else {\n      code = 47 /* `/` */\n    }\n\n    if (code === 47 /* `/` */) {\n      if (lastSlash === index - 1 || dots === 1) {\n        // Empty.\n      } else if (lastSlash !== index - 1 && dots === 2) {\n        if (\n          result.length < 2 ||\n          lastSegmentLength !== 2 ||\n          result.charCodeAt(result.length - 1) !== 46 /* `.` */ ||\n          result.charCodeAt(result.length - 2) !== 46 /* `.` */\n        ) {\n          if (result.length > 2) {\n            lastSlashIndex = result.lastIndexOf('/')\n\n            /* istanbul ignore else - No clue how to cover it. */\n            if (lastSlashIndex !== result.length - 1) {\n              if (lastSlashIndex < 0) {\n                result = ''\n                lastSegmentLength = 0\n              } else {\n                result = result.slice(0, lastSlashIndex)\n                lastSegmentLength = result.length - 1 - result.lastIndexOf('/')\n              }\n\n              lastSlash = index\n              dots = 0\n              continue\n            }\n          } else if (result.length) {\n            result = ''\n            lastSegmentLength = 0\n            lastSlash = index\n            dots = 0\n            continue\n          }\n        }\n\n        if (allowAboveRoot) {\n          result = result.length ? result + '/..' : '..'\n          lastSegmentLength = 2\n        }\n      } else {\n        if (result.length) {\n          result += '/' + path.slice(lastSlash + 1, index)\n        } else {\n          result = path.slice(lastSlash + 1, index)\n        }\n\n        lastSegmentLength = index - lastSlash - 1\n      }\n\n      lastSlash = index\n      dots = 0\n    } else if (code === 46 /* `.` */ && dots > -1) {\n      dots++\n    } else {\n      dots = -1\n    }\n  }\n\n  return result\n}\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError(\n      'Path must be a string. Received ' + JSON.stringify(path)\n    )\n  }\n}\n","'use strict'\n\nvar p = require('./minpath')\nvar proc = require('./minproc')\nvar buffer = require('is-buffer')\n\nmodule.exports = VFile\n\nvar own = {}.hasOwnProperty\n\n// Order of setting (least specific to most), we need this because otherwise\n// `{stem: 'a', path: '~/b.js'}` would throw, as a path is needed before a\n// stem can be set.\nvar order = ['history', 'path', 'basename', 'stem', 'extname', 'dirname']\n\nVFile.prototype.toString = toString\n\n// Access full path (`~/index.min.js`).\nObject.defineProperty(VFile.prototype, 'path', {get: getPath, set: setPath})\n\n// Access parent path (`~`).\nObject.defineProperty(VFile.prototype, 'dirname', {\n  get: getDirname,\n  set: setDirname\n})\n\n// Access basename (`index.min.js`).\nObject.defineProperty(VFile.prototype, 'basename', {\n  get: getBasename,\n  set: setBasename\n})\n\n// Access extname (`.js`).\nObject.defineProperty(VFile.prototype, 'extname', {\n  get: getExtname,\n  set: setExtname\n})\n\n// Access stem (`index.min`).\nObject.defineProperty(VFile.prototype, 'stem', {get: getStem, set: setStem})\n\n// Construct a new file.\nfunction VFile(options) {\n  var prop\n  var index\n\n  if (!options) {\n    options = {}\n  } else if (typeof options === 'string' || buffer(options)) {\n    options = {contents: options}\n  } else if ('message' in options && 'messages' in options) {\n    return options\n  }\n\n  if (!(this instanceof VFile)) {\n    return new VFile(options)\n  }\n\n  this.data = {}\n  this.messages = []\n  this.history = []\n  this.cwd = proc.cwd()\n\n  // Set path related properties in the correct order.\n  index = -1\n\n  while (++index < order.length) {\n    prop = order[index]\n\n    if (own.call(options, prop)) {\n      this[prop] = options[prop]\n    }\n  }\n\n  // Set non-path related properties.\n  for (prop in options) {\n    if (order.indexOf(prop) < 0) {\n      this[prop] = options[prop]\n    }\n  }\n}\n\nfunction getPath() {\n  return this.history[this.history.length - 1]\n}\n\nfunction setPath(path) {\n  assertNonEmpty(path, 'path')\n\n  if (this.path !== path) {\n    this.history.push(path)\n  }\n}\n\nfunction getDirname() {\n  return typeof this.path === 'string' ? p.dirname(this.path) : undefined\n}\n\nfunction setDirname(dirname) {\n  assertPath(this.path, 'dirname')\n  this.path = p.join(dirname || '', this.basename)\n}\n\nfunction getBasename() {\n  return typeof this.path === 'string' ? p.basename(this.path) : undefined\n}\n\nfunction setBasename(basename) {\n  assertNonEmpty(basename, 'basename')\n  assertPart(basename, 'basename')\n  this.path = p.join(this.dirname || '', basename)\n}\n\nfunction getExtname() {\n  return typeof this.path === 'string' ? p.extname(this.path) : undefined\n}\n\nfunction setExtname(extname) {\n  assertPart(extname, 'extname')\n  assertPath(this.path, 'extname')\n\n  if (extname) {\n    if (extname.charCodeAt(0) !== 46 /* `.` */) {\n      throw new Error('`extname` must start with `.`')\n    }\n\n    if (extname.indexOf('.', 1) > -1) {\n      throw new Error('`extname` cannot contain multiple dots')\n    }\n  }\n\n  this.path = p.join(this.dirname, this.stem + (extname || ''))\n}\n\nfunction getStem() {\n  return typeof this.path === 'string'\n    ? p.basename(this.path, this.extname)\n    : undefined\n}\n\nfunction setStem(stem) {\n  assertNonEmpty(stem, 'stem')\n  assertPart(stem, 'stem')\n  this.path = p.join(this.dirname || '', stem + (this.extname || ''))\n}\n\n// Get the value of the file.\nfunction toString(encoding) {\n  return (this.contents || '').toString(encoding)\n}\n\n// Assert that `part` is not a path (i.e., does not contain `p.sep`).\nfunction assertPart(part, name) {\n  if (part && part.indexOf(p.sep) > -1) {\n    throw new Error(\n      '`' + name + '` cannot be a path: did not expect `' + p.sep + '`'\n    )\n  }\n}\n\n// Assert that `part` is not empty.\nfunction assertNonEmpty(part, name) {\n  if (!part) {\n    throw new Error('`' + name + '` cannot be empty')\n  }\n}\n\n// Assert `path` exists.\nfunction assertPath(path, name) {\n  if (!path) {\n    throw new Error('Setting `' + name + '` requires `path` to be set too')\n  }\n}\n","'use strict'\n\n// Somewhat based on:\n// <https://github.com/defunctzombie/node-process/blob/master/browser.js>.\n// But I don’t think one tiny line of code can be copyrighted. 😅\nexports.cwd = cwd\n\nfunction cwd() {\n  return '/'\n}\n","'use strict'\n\nvar VMessage = require('vfile-message')\nvar VFile = require('./core.js')\n\nmodule.exports = VFile\n\nVFile.prototype.message = message\nVFile.prototype.info = info\nVFile.prototype.fail = fail\n\n// Create a message with `reason` at `position`.\n// When an error is passed in as `reason`, copies the stack.\nfunction message(reason, position, origin) {\n  var message = new VMessage(reason, position, origin)\n\n  if (this.path) {\n    message.name = this.path + ':' + message.name\n    message.file = this.path\n  }\n\n  message.fatal = false\n\n  this.messages.push(message)\n\n  return message\n}\n\n// Fail: creates a vmessage, associates it with the file, and throws it.\nfunction fail() {\n  var message = this.message.apply(this, arguments)\n\n  message.fatal = true\n\n  throw message\n}\n\n// Info: creates a vmessage, associates it with the file, and marks the fatality\n// as null.\nfunction info() {\n  var message = this.message.apply(this, arguments)\n\n  message.fatal = null\n\n  return message\n}\n","'use strict'\n\nmodule.exports = require('./lib')\n","'use strict'\n\nvar bail = require('bail')\nvar buffer = require('is-buffer')\nvar extend = require('extend')\nvar plain = require('is-plain-obj')\nvar trough = require('trough')\nvar vfile = require('vfile')\n\n// Expose a frozen processor.\nmodule.exports = unified().freeze()\n\nvar slice = [].slice\nvar own = {}.hasOwnProperty\n\n// Process pipeline.\nvar pipeline = trough()\n  .use(pipelineParse)\n  .use(pipelineRun)\n  .use(pipelineStringify)\n\nfunction pipelineParse(p, ctx) {\n  ctx.tree = p.parse(ctx.file)\n}\n\nfunction pipelineRun(p, ctx, next) {\n  p.run(ctx.tree, ctx.file, done)\n\n  function done(err, tree, file) {\n    if (err) {\n      next(err)\n    } else {\n      ctx.tree = tree\n      ctx.file = file\n      next()\n    }\n  }\n}\n\nfunction pipelineStringify(p, ctx) {\n  var result = p.stringify(ctx.tree, ctx.file)\n  var file = ctx.file\n\n  if (result === undefined || result === null) {\n    // Empty.\n  } else if (typeof result === 'string' || buffer(result)) {\n    file.contents = result\n  } else {\n    file.result = result\n  }\n}\n\n// Function to create the first processor.\nfunction unified() {\n  var attachers = []\n  var transformers = trough()\n  var namespace = {}\n  var frozen = false\n  var freezeIndex = -1\n\n  // Data management.\n  processor.data = data\n\n  // Lock.\n  processor.freeze = freeze\n\n  // Plugins.\n  processor.attachers = attachers\n  processor.use = use\n\n  // API.\n  processor.parse = parse\n  processor.stringify = stringify\n  processor.run = run\n  processor.runSync = runSync\n  processor.process = process\n  processor.processSync = processSync\n\n  // Expose.\n  return processor\n\n  // Create a new processor based on the processor in the current scope.\n  function processor() {\n    var destination = unified()\n    var length = attachers.length\n    var index = -1\n\n    while (++index < length) {\n      destination.use.apply(null, attachers[index])\n    }\n\n    destination.data(extend(true, {}, namespace))\n\n    return destination\n  }\n\n  // Freeze: used to signal a processor that has finished configuration.\n  //\n  // For example, take unified itself: it’s frozen.\n  // Plugins should not be added to it.\n  // Rather, it should be extended, by invoking it, before modifying it.\n  //\n  // In essence, always invoke this when exporting a processor.\n  function freeze() {\n    var values\n    var plugin\n    var options\n    var transformer\n\n    if (frozen) {\n      return processor\n    }\n\n    while (++freezeIndex < attachers.length) {\n      values = attachers[freezeIndex]\n      plugin = values[0]\n      options = values[1]\n      transformer = null\n\n      if (options === false) {\n        continue\n      }\n\n      if (options === true) {\n        values[1] = undefined\n      }\n\n      transformer = plugin.apply(processor, values.slice(1))\n\n      if (typeof transformer === 'function') {\n        transformers.use(transformer)\n      }\n    }\n\n    frozen = true\n    freezeIndex = Infinity\n\n    return processor\n  }\n\n  // Data management.\n  // Getter / setter for processor-specific informtion.\n  function data(key, value) {\n    if (typeof key === 'string') {\n      // Set `key`.\n      if (arguments.length === 2) {\n        assertUnfrozen('data', frozen)\n\n        namespace[key] = value\n\n        return processor\n      }\n\n      // Get `key`.\n      return (own.call(namespace, key) && namespace[key]) || null\n    }\n\n    // Set space.\n    if (key) {\n      assertUnfrozen('data', frozen)\n      namespace = key\n      return processor\n    }\n\n    // Get space.\n    return namespace\n  }\n\n  // Plugin management.\n  //\n  // Pass it:\n  // *   an attacher and options,\n  // *   a preset,\n  // *   a list of presets, attachers, and arguments (list of attachers and\n  //     options).\n  function use(value) {\n    var settings\n\n    assertUnfrozen('use', frozen)\n\n    if (value === null || value === undefined) {\n      // Empty.\n    } else if (typeof value === 'function') {\n      addPlugin.apply(null, arguments)\n    } else if (typeof value === 'object') {\n      if ('length' in value) {\n        addList(value)\n      } else {\n        addPreset(value)\n      }\n    } else {\n      throw new Error('Expected usable value, not `' + value + '`')\n    }\n\n    if (settings) {\n      namespace.settings = extend(namespace.settings || {}, settings)\n    }\n\n    return processor\n\n    function addPreset(result) {\n      addList(result.plugins)\n\n      if (result.settings) {\n        settings = extend(settings || {}, result.settings)\n      }\n    }\n\n    function add(value) {\n      if (typeof value === 'function') {\n        addPlugin(value)\n      } else if (typeof value === 'object') {\n        if ('length' in value) {\n          addPlugin.apply(null, value)\n        } else {\n          addPreset(value)\n        }\n      } else {\n        throw new Error('Expected usable value, not `' + value + '`')\n      }\n    }\n\n    function addList(plugins) {\n      var length\n      var index\n\n      if (plugins === null || plugins === undefined) {\n        // Empty.\n      } else if (typeof plugins === 'object' && 'length' in plugins) {\n        length = plugins.length\n        index = -1\n\n        while (++index < length) {\n          add(plugins[index])\n        }\n      } else {\n        throw new Error('Expected a list of plugins, not `' + plugins + '`')\n      }\n    }\n\n    function addPlugin(plugin, value) {\n      var entry = find(plugin)\n\n      if (entry) {\n        if (plain(entry[1]) && plain(value)) {\n          value = extend(entry[1], value)\n        }\n\n        entry[1] = value\n      } else {\n        attachers.push(slice.call(arguments))\n      }\n    }\n  }\n\n  function find(plugin) {\n    var length = attachers.length\n    var index = -1\n    var entry\n\n    while (++index < length) {\n      entry = attachers[index]\n\n      if (entry[0] === plugin) {\n        return entry\n      }\n    }\n  }\n\n  // Parse a file (in string or vfile representation) into a unist node using\n  // the `Parser` on the processor.\n  function parse(doc) {\n    var file = vfile(doc)\n    var Parser\n\n    freeze()\n    Parser = processor.Parser\n    assertParser('parse', Parser)\n\n    if (newable(Parser, 'parse')) {\n      return new Parser(String(file), file).parse()\n    }\n\n    return Parser(String(file), file) // eslint-disable-line new-cap\n  }\n\n  // Run transforms on a unist node representation of a file (in string or\n  // vfile representation), async.\n  function run(node, file, cb) {\n    assertNode(node)\n    freeze()\n\n    if (!cb && typeof file === 'function') {\n      cb = file\n      file = null\n    }\n\n    if (!cb) {\n      return new Promise(executor)\n    }\n\n    executor(null, cb)\n\n    function executor(resolve, reject) {\n      transformers.run(node, vfile(file), done)\n\n      function done(err, tree, file) {\n        tree = tree || node\n        if (err) {\n          reject(err)\n        } else if (resolve) {\n          resolve(tree)\n        } else {\n          cb(null, tree, file)\n        }\n      }\n    }\n  }\n\n  // Run transforms on a unist node representation of a file (in string or\n  // vfile representation), sync.\n  function runSync(node, file) {\n    var complete = false\n    var result\n\n    run(node, file, done)\n\n    assertDone('runSync', 'run', complete)\n\n    return result\n\n    function done(err, tree) {\n      complete = true\n      bail(err)\n      result = tree\n    }\n  }\n\n  // Stringify a unist node representation of a file (in string or vfile\n  // representation) into a string using the `Compiler` on the processor.\n  function stringify(node, doc) {\n    var file = vfile(doc)\n    var Compiler\n\n    freeze()\n    Compiler = processor.Compiler\n    assertCompiler('stringify', Compiler)\n    assertNode(node)\n\n    if (newable(Compiler, 'compile')) {\n      return new Compiler(node, file).compile()\n    }\n\n    return Compiler(node, file) // eslint-disable-line new-cap\n  }\n\n  // Parse a file (in string or vfile representation) into a unist node using\n  // the `Parser` on the processor, then run transforms on that node, and\n  // compile the resulting node using the `Compiler` on the processor, and\n  // store that result on the vfile.\n  function process(doc, cb) {\n    freeze()\n    assertParser('process', processor.Parser)\n    assertCompiler('process', processor.Compiler)\n\n    if (!cb) {\n      return new Promise(executor)\n    }\n\n    executor(null, cb)\n\n    function executor(resolve, reject) {\n      var file = vfile(doc)\n\n      pipeline.run(processor, {file: file}, done)\n\n      function done(err) {\n        if (err) {\n          reject(err)\n        } else if (resolve) {\n          resolve(file)\n        } else {\n          cb(null, file)\n        }\n      }\n    }\n  }\n\n  // Process the given document (in string or vfile representation), sync.\n  function processSync(doc) {\n    var complete = false\n    var file\n\n    freeze()\n    assertParser('processSync', processor.Parser)\n    assertCompiler('processSync', processor.Compiler)\n    file = vfile(doc)\n\n    process(file, done)\n\n    assertDone('processSync', 'process', complete)\n\n    return file\n\n    function done(err) {\n      complete = true\n      bail(err)\n    }\n  }\n}\n\n// Check if `value` is a constructor.\nfunction newable(value, name) {\n  return (\n    typeof value === 'function' &&\n    value.prototype &&\n    // A function with keys in its prototype is probably a constructor.\n    // Classes’ prototype methods are not enumerable, so we check if some value\n    // exists in the prototype.\n    (keys(value.prototype) || name in value.prototype)\n  )\n}\n\n// Check if `value` is an object with keys.\nfunction keys(value) {\n  var key\n  for (key in value) {\n    return true\n  }\n\n  return false\n}\n\n// Assert a parser is available.\nfunction assertParser(name, Parser) {\n  if (typeof Parser !== 'function') {\n    throw new Error('Cannot `' + name + '` without `Parser`')\n  }\n}\n\n// Assert a compiler is available.\nfunction assertCompiler(name, Compiler) {\n  if (typeof Compiler !== 'function') {\n    throw new Error('Cannot `' + name + '` without `Compiler`')\n  }\n}\n\n// Assert the processor is not frozen.\nfunction assertUnfrozen(name, frozen) {\n  if (frozen) {\n    throw new Error(\n      'Cannot invoke `' +\n        name +\n        '` on a frozen processor.\\nCreate a new processor first, by invoking it: use `processor()` instead of `processor`.'\n    )\n  }\n}\n\n// Assert `node` is a unist node.\nfunction assertNode(node) {\n  if (!node || typeof node.type !== 'string') {\n    throw new Error('Expected node, got `' + node + '`')\n  }\n}\n\n// Assert that `complete` is `true`.\nfunction assertDone(name, asyncName, complete) {\n  if (!complete) {\n    throw new Error(\n      '`' + name + '` finished async. Use `' + asyncName + '` instead'\n    )\n  }\n}\n","(function(root, factory) {\n    if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        root.nearley = factory();\n    }\n}(this, function() {\n\n    function Rule(name, symbols, postprocess) {\n        this.id = ++Rule.highestId;\n        this.name = name;\n        this.symbols = symbols;        // a list of literal | regex class | nonterminal\n        this.postprocess = postprocess;\n        return this;\n    }\n    Rule.highestId = 0;\n\n    Rule.prototype.toString = function(withCursorAt) {\n        var symbolSequence = (typeof withCursorAt === \"undefined\")\n                             ? this.symbols.map(getSymbolShortDisplay).join(' ')\n                             : (   this.symbols.slice(0, withCursorAt).map(getSymbolShortDisplay).join(' ')\n                                 + \" ● \"\n                                 + this.symbols.slice(withCursorAt).map(getSymbolShortDisplay).join(' ')     );\n        return this.name + \" → \" + symbolSequence;\n    }\n\n\n    // a State is a rule at a position from a given starting point in the input stream (reference)\n    function State(rule, dot, reference, wantedBy) {\n        this.rule = rule;\n        this.dot = dot;\n        this.reference = reference;\n        this.data = [];\n        this.wantedBy = wantedBy;\n        this.isComplete = this.dot === rule.symbols.length;\n    }\n\n    State.prototype.toString = function() {\n        return \"{\" + this.rule.toString(this.dot) + \"}, from: \" + (this.reference || 0);\n    };\n\n    State.prototype.nextState = function(child) {\n        var state = new State(this.rule, this.dot + 1, this.reference, this.wantedBy);\n        state.left = this;\n        state.right = child;\n        if (state.isComplete) {\n            state.data = state.build();\n            // Having right set here will prevent the right state and its children\n            // form being garbage collected\n            state.right = undefined;\n        }\n        return state;\n    };\n\n    State.prototype.build = function() {\n        var children = [];\n        var node = this;\n        do {\n            children.push(node.right.data);\n            node = node.left;\n        } while (node.left);\n        children.reverse();\n        return children;\n    };\n\n    State.prototype.finish = function() {\n        if (this.rule.postprocess) {\n            this.data = this.rule.postprocess(this.data, this.reference, Parser.fail);\n        }\n    };\n\n\n    function Column(grammar, index) {\n        this.grammar = grammar;\n        this.index = index;\n        this.states = [];\n        this.wants = {}; // states indexed by the non-terminal they expect\n        this.scannable = []; // list of states that expect a token\n        this.completed = {}; // states that are nullable\n    }\n\n\n    Column.prototype.process = function(nextColumn) {\n        var states = this.states;\n        var wants = this.wants;\n        var completed = this.completed;\n\n        for (var w = 0; w < states.length; w++) { // nb. we push() during iteration\n            var state = states[w];\n\n            if (state.isComplete) {\n                state.finish();\n                if (state.data !== Parser.fail) {\n                    // complete\n                    var wantedBy = state.wantedBy;\n                    for (var i = wantedBy.length; i--; ) { // this line is hot\n                        var left = wantedBy[i];\n                        this.complete(left, state);\n                    }\n\n                    // special-case nullables\n                    if (state.reference === this.index) {\n                        // make sure future predictors of this rule get completed.\n                        var exp = state.rule.name;\n                        (this.completed[exp] = this.completed[exp] || []).push(state);\n                    }\n                }\n\n            } else {\n                // queue scannable states\n                var exp = state.rule.symbols[state.dot];\n                if (typeof exp !== 'string') {\n                    this.scannable.push(state);\n                    continue;\n                }\n\n                // predict\n                if (wants[exp]) {\n                    wants[exp].push(state);\n\n                    if (completed.hasOwnProperty(exp)) {\n                        var nulls = completed[exp];\n                        for (var i = 0; i < nulls.length; i++) {\n                            var right = nulls[i];\n                            this.complete(state, right);\n                        }\n                    }\n                } else {\n                    wants[exp] = [state];\n                    this.predict(exp);\n                }\n            }\n        }\n    }\n\n    Column.prototype.predict = function(exp) {\n        var rules = this.grammar.byName[exp] || [];\n\n        for (var i = 0; i < rules.length; i++) {\n            var r = rules[i];\n            var wantedBy = this.wants[exp];\n            var s = new State(r, 0, this.index, wantedBy);\n            this.states.push(s);\n        }\n    }\n\n    Column.prototype.complete = function(left, right) {\n        var copy = left.nextState(right);\n        this.states.push(copy);\n    }\n\n\n    function Grammar(rules, start) {\n        this.rules = rules;\n        this.start = start || this.rules[0].name;\n        var byName = this.byName = {};\n        this.rules.forEach(function(rule) {\n            if (!byName.hasOwnProperty(rule.name)) {\n                byName[rule.name] = [];\n            }\n            byName[rule.name].push(rule);\n        });\n    }\n\n    // So we can allow passing (rules, start) directly to Parser for backwards compatibility\n    Grammar.fromCompiled = function(rules, start) {\n        var lexer = rules.Lexer;\n        if (rules.ParserStart) {\n          start = rules.ParserStart;\n          rules = rules.ParserRules;\n        }\n        var rules = rules.map(function (r) { return (new Rule(r.name, r.symbols, r.postprocess)); });\n        var g = new Grammar(rules, start);\n        g.lexer = lexer; // nb. storing lexer on Grammar is iffy, but unavoidable\n        return g;\n    }\n\n\n    function StreamLexer() {\n      this.reset(\"\");\n    }\n\n    StreamLexer.prototype.reset = function(data, state) {\n        this.buffer = data;\n        this.index = 0;\n        this.line = state ? state.line : 1;\n        this.lastLineBreak = state ? -state.col : 0;\n    }\n\n    StreamLexer.prototype.next = function() {\n        if (this.index < this.buffer.length) {\n            var ch = this.buffer[this.index++];\n            if (ch === '\\n') {\n              this.line += 1;\n              this.lastLineBreak = this.index;\n            }\n            return {value: ch};\n        }\n    }\n\n    StreamLexer.prototype.save = function() {\n      return {\n        line: this.line,\n        col: this.index - this.lastLineBreak,\n      }\n    }\n\n    StreamLexer.prototype.formatError = function(token, message) {\n        // nb. this gets called after consuming the offending token,\n        // so the culprit is index-1\n        var buffer = this.buffer;\n        if (typeof buffer === 'string') {\n            var lines = buffer\n                .split(\"\\n\")\n                .slice(\n                    Math.max(0, this.line - 5), \n                    this.line\n                );\n\n            var nextLineBreak = buffer.indexOf('\\n', this.index);\n            if (nextLineBreak === -1) nextLineBreak = buffer.length;\n            var col = this.index - this.lastLineBreak;\n            var lastLineDigits = String(this.line).length;\n            message += \" at line \" + this.line + \" col \" + col + \":\\n\\n\";\n            message += lines\n                .map(function(line, i) {\n                    return pad(this.line - lines.length + i + 1, lastLineDigits) + \" \" + line;\n                }, this)\n                .join(\"\\n\");\n            message += \"\\n\" + pad(\"\", lastLineDigits + col) + \"^\\n\";\n            return message;\n        } else {\n            return message + \" at index \" + (this.index - 1);\n        }\n\n        function pad(n, length) {\n            var s = String(n);\n            return Array(length - s.length + 1).join(\" \") + s;\n        }\n    }\n\n    function Parser(rules, start, options) {\n        if (rules instanceof Grammar) {\n            var grammar = rules;\n            var options = start;\n        } else {\n            var grammar = Grammar.fromCompiled(rules, start);\n        }\n        this.grammar = grammar;\n\n        // Read options\n        this.options = {\n            keepHistory: false,\n            lexer: grammar.lexer || new StreamLexer,\n        };\n        for (var key in (options || {})) {\n            this.options[key] = options[key];\n        }\n\n        // Setup lexer\n        this.lexer = this.options.lexer;\n        this.lexerState = undefined;\n\n        // Setup a table\n        var column = new Column(grammar, 0);\n        var table = this.table = [column];\n\n        // I could be expecting anything.\n        column.wants[grammar.start] = [];\n        column.predict(grammar.start);\n        // TODO what if start rule is nullable?\n        column.process();\n        this.current = 0; // token index\n    }\n\n    // create a reserved token for indicating a parse fail\n    Parser.fail = {};\n\n    Parser.prototype.feed = function(chunk) {\n        var lexer = this.lexer;\n        lexer.reset(chunk, this.lexerState);\n\n        var token;\n        while (true) {\n            try {\n                token = lexer.next();\n                if (!token) {\n                    break;\n                }\n            } catch (e) {\n                // Create the next column so that the error reporter\n                // can display the correctly predicted states.\n                var nextColumn = new Column(this.grammar, this.current + 1);\n                this.table.push(nextColumn);\n                var err = new Error(this.reportLexerError(e));\n                err.offset = this.current;\n                err.token = e.token;\n                throw err;\n            }\n            // We add new states to table[current+1]\n            var column = this.table[this.current];\n\n            // GC unused states\n            if (!this.options.keepHistory) {\n                delete this.table[this.current - 1];\n            }\n\n            var n = this.current + 1;\n            var nextColumn = new Column(this.grammar, n);\n            this.table.push(nextColumn);\n\n            // Advance all tokens that expect the symbol\n            var literal = token.text !== undefined ? token.text : token.value;\n            var value = lexer.constructor === StreamLexer ? token.value : token;\n            var scannable = column.scannable;\n            for (var w = scannable.length; w--; ) {\n                var state = scannable[w];\n                var expect = state.rule.symbols[state.dot];\n                // Try to consume the token\n                // either regex or literal\n                if (expect.test ? expect.test(value) :\n                    expect.type ? expect.type === token.type\n                                : expect.literal === literal) {\n                    // Add it\n                    var next = state.nextState({data: value, token: token, isToken: true, reference: n - 1});\n                    nextColumn.states.push(next);\n                }\n            }\n\n            // Next, for each of the rules, we either\n            // (a) complete it, and try to see if the reference row expected that\n            //     rule\n            // (b) predict the next nonterminal it expects by adding that\n            //     nonterminal's start state\n            // To prevent duplication, we also keep track of rules we have already\n            // added\n\n            nextColumn.process();\n\n            // If needed, throw an error:\n            if (nextColumn.states.length === 0) {\n                // No states at all! This is not good.\n                var err = new Error(this.reportError(token));\n                err.offset = this.current;\n                err.token = token;\n                throw err;\n            }\n\n            // maybe save lexer state\n            if (this.options.keepHistory) {\n              column.lexerState = lexer.save()\n            }\n\n            this.current++;\n        }\n        if (column) {\n          this.lexerState = lexer.save()\n        }\n\n        // Incrementally keep track of results\n        this.results = this.finish();\n\n        // Allow chaining, for whatever it's worth\n        return this;\n    };\n\n    Parser.prototype.reportLexerError = function(lexerError) {\n        var tokenDisplay, lexerMessage;\n        // Planning to add a token property to moo's thrown error\n        // even on erroring tokens to be used in error display below\n        var token = lexerError.token;\n        if (token) {\n            tokenDisplay = \"input \" + JSON.stringify(token.text[0]) + \" (lexer error)\";\n            lexerMessage = this.lexer.formatError(token, \"Syntax error\");\n        } else {\n            tokenDisplay = \"input (lexer error)\";\n            lexerMessage = lexerError.message;\n        }\n        return this.reportErrorCommon(lexerMessage, tokenDisplay);\n    };\n\n    Parser.prototype.reportError = function(token) {\n        var tokenDisplay = (token.type ? token.type + \" token: \" : \"\") + JSON.stringify(token.value !== undefined ? token.value : token);\n        var lexerMessage = this.lexer.formatError(token, \"Syntax error\");\n        return this.reportErrorCommon(lexerMessage, tokenDisplay);\n    };\n\n    Parser.prototype.reportErrorCommon = function(lexerMessage, tokenDisplay) {\n        var lines = [];\n        lines.push(lexerMessage);\n        var lastColumnIndex = this.table.length - 2;\n        var lastColumn = this.table[lastColumnIndex];\n        var expectantStates = lastColumn.states\n            .filter(function(state) {\n                var nextSymbol = state.rule.symbols[state.dot];\n                return nextSymbol && typeof nextSymbol !== \"string\";\n            });\n\n        if (expectantStates.length === 0) {\n            lines.push('Unexpected ' + tokenDisplay + '. I did not expect any more input. Here is the state of my parse table:\\n');\n            this.displayStateStack(lastColumn.states, lines);\n        } else {\n            lines.push('Unexpected ' + tokenDisplay + '. Instead, I was expecting to see one of the following:\\n');\n            // Display a \"state stack\" for each expectant state\n            // - which shows you how this state came to be, step by step.\n            // If there is more than one derivation, we only display the first one.\n            var stateStacks = expectantStates\n                .map(function(state) {\n                    return this.buildFirstStateStack(state, []) || [state];\n                }, this);\n            // Display each state that is expecting a terminal symbol next.\n            stateStacks.forEach(function(stateStack) {\n                var state = stateStack[0];\n                var nextSymbol = state.rule.symbols[state.dot];\n                var symbolDisplay = this.getSymbolDisplay(nextSymbol);\n                lines.push('A ' + symbolDisplay + ' based on:');\n                this.displayStateStack(stateStack, lines);\n            }, this);\n        }\n        lines.push(\"\");\n        return lines.join(\"\\n\");\n    }\n    \n    Parser.prototype.displayStateStack = function(stateStack, lines) {\n        var lastDisplay;\n        var sameDisplayCount = 0;\n        for (var j = 0; j < stateStack.length; j++) {\n            var state = stateStack[j];\n            var display = state.rule.toString(state.dot);\n            if (display === lastDisplay) {\n                sameDisplayCount++;\n            } else {\n                if (sameDisplayCount > 0) {\n                    lines.push('    ^ ' + sameDisplayCount + ' more lines identical to this');\n                }\n                sameDisplayCount = 0;\n                lines.push('    ' + display);\n            }\n            lastDisplay = display;\n        }\n    };\n\n    Parser.prototype.getSymbolDisplay = function(symbol) {\n        return getSymbolLongDisplay(symbol);\n    };\n\n    /*\n    Builds a the first state stack. You can think of a state stack as the call stack\n    of the recursive-descent parser which the Nearley parse algorithm simulates.\n    A state stack is represented as an array of state objects. Within a\n    state stack, the first item of the array will be the starting\n    state, with each successive item in the array going further back into history.\n\n    This function needs to be given a starting state and an empty array representing\n    the visited states, and it returns an single state stack.\n\n    */\n    Parser.prototype.buildFirstStateStack = function(state, visited) {\n        if (visited.indexOf(state) !== -1) {\n            // Found cycle, return null\n            // to eliminate this path from the results, because\n            // we don't know how to display it meaningfully\n            return null;\n        }\n        if (state.wantedBy.length === 0) {\n            return [state];\n        }\n        var prevState = state.wantedBy[0];\n        var childVisited = [state].concat(visited);\n        var childResult = this.buildFirstStateStack(prevState, childVisited);\n        if (childResult === null) {\n            return null;\n        }\n        return [state].concat(childResult);\n    };\n\n    Parser.prototype.save = function() {\n        var column = this.table[this.current];\n        column.lexerState = this.lexerState;\n        return column;\n    };\n\n    Parser.prototype.restore = function(column) {\n        var index = column.index;\n        this.current = index;\n        this.table[index] = column;\n        this.table.splice(index + 1);\n        this.lexerState = column.lexerState;\n\n        // Incrementally keep track of results\n        this.results = this.finish();\n    };\n\n    // nb. deprecated: use save/restore instead!\n    Parser.prototype.rewind = function(index) {\n        if (!this.options.keepHistory) {\n            throw new Error('set option `keepHistory` to enable rewinding')\n        }\n        // nb. recall column (table) indicies fall between token indicies.\n        //        col 0   --   token 0   --   col 1\n        this.restore(this.table[index]);\n    };\n\n    Parser.prototype.finish = function() {\n        // Return the possible parsings\n        var considerations = [];\n        var start = this.grammar.start;\n        var column = this.table[this.table.length - 1]\n        column.states.forEach(function (t) {\n            if (t.rule.name === start\n                    && t.dot === t.rule.symbols.length\n                    && t.reference === 0\n                    && t.data !== Parser.fail) {\n                considerations.push(t);\n            }\n        });\n        return considerations.map(function(c) {return c.data; });\n    };\n\n    function getSymbolLongDisplay(symbol) {\n        var type = typeof symbol;\n        if (type === \"string\") {\n            return symbol;\n        } else if (type === \"object\") {\n            if (symbol.literal) {\n                return JSON.stringify(symbol.literal);\n            } else if (symbol instanceof RegExp) {\n                return 'character matching ' + symbol;\n            } else if (symbol.type) {\n                return symbol.type + ' token';\n            } else if (symbol.test) {\n                return 'token matching ' + String(symbol.test);\n            } else {\n                throw new Error('Unknown symbol type: ' + symbol);\n            }\n        }\n    }\n\n    function getSymbolShortDisplay(symbol) {\n        var type = typeof symbol;\n        if (type === \"string\") {\n            return symbol;\n        } else if (type === \"object\") {\n            if (symbol.literal) {\n                return JSON.stringify(symbol.literal);\n            } else if (symbol instanceof RegExp) {\n                return symbol.toString();\n            } else if (symbol.type) {\n                return '%' + symbol.type;\n            } else if (symbol.test) {\n                return '<' + String(symbol.test) + '>';\n            } else {\n                throw new Error('Unknown symbol type: ' + symbol);\n            }\n        }\n    }\n\n    return {\n        Parser: Parser,\n        Grammar: Grammar,\n        Rule: Rule,\n    };\n\n}));\n","// Generated automatically by nearley, version 2.20.1\n// http://github.com/Hardmath123/nearley\n// Bypasses TS6133. Allow declared but unused functions.\n// @ts-ignore\nimport moo from 'moo';\nimport * as g from '@gram-data/gram-builder';\nimport { tokens } from '@gram-data/gram-ast';\n\nfunction id(d: any[]): any {\n  return d[0];\n}\ndeclare var identifier: any;\ndeclare var symbol: any;\ndeclare var integer: any;\ndeclare var octal: any;\ndeclare var hexadecimal: any;\ndeclare var measurement: any;\ndeclare var tickedString: any;\ndeclare var boolean: any;\ndeclare var singleQuotedString: any;\ndeclare var doubleQuotedString: any;\ndeclare var taggedString: any;\ndeclare var decimal: any;\ndeclare var whitespace: any;\ndeclare var lineComment: any;\n\nlet lexer = (moo.compile({\n  whitespace: { match: /\\s+/, lineBreaks: true },\n  lineComment: { match: /\\/\\/.*?\\n?$/ },\n  hexadecimal: tokens.hexadecimal,\n  octal: tokens.octal,\n  measurement: tokens.measurement,\n  decimal: tokens.decimal,\n  integer: tokens.integer,\n  taggedString: { match: tokens.taggedString },\n  boolean: ['true', 'TRUE', 'True', 'false', 'FALSE', 'False'],\n  symbol: tokens.symbol,\n  identifier: tokens.identifier,\n  doubleQuotedString: {\n    match: tokens.doubleQuotedString,\n    value: (s: string) => s.slice(1, -1),\n  },\n  singleQuotedString: {\n    match: tokens.singleQuotedString,\n    value: (s: string) => s.slice(1, -1),\n  },\n  tickedString: {\n    match: tokens.tickedString,\n    value: (s: string) => s.slice(1, -1),\n  },\n  '-->': '-->',\n  '--': '--',\n  '<--': '<--',\n  '-[]->': '-[]->',\n  '-[]-': '-[]-',\n  '<-[]-': '<-[]-',\n  '<-[': '<-[',\n  ']->': ']->',\n  '-[': '-[',\n  ']-': ']-',\n  '{': '{',\n  '}': '}',\n  '[': '[',\n  ']': ']',\n  '(': '(',\n  ')': ')',\n  ',': ',',\n  ':': ':',\n  '`': '`',\n  \"'\": \"'\",\n  ø: 'ø',\n}) as unknown) as NearleyLexer;\n\nconst empty = () => null;\n\nconst text = ([token]: Array<any>): string => token.text;\n\n/*\n# function extractPairs(pairGroups:Array<any>) {\n#     return pairGroups.map((pairGroup:Array<any>) => {\n#       return pairGroup[3];\n#     })\n# }\n\n# function extractArray(valueGroups:Array<any>):Array<any> {\n#     return valueGroups.map( (valueGroup) => valueGroup[3]);\n# }\n*/\n\nfunction separateTagFromString(taggedStringValue: string) {\n  let valueParts = taggedStringValue.match(/([^`]+)`(.+)`$/);\n  if (valueParts === null || valueParts === undefined)\n    throw Error(`Malformed tagged string: ${taggedStringValue}`);\n  return {\n    tag: valueParts![1],\n    value: valueParts![2],\n  };\n}\n\nfunction separateNumberFromUnits(measurementValue: string) {\n  let valueParts = measurementValue.match(/(-?[0-9.]+)([a-zA-Z]+)/);\n  if (valueParts === null || valueParts === undefined)\n    throw Error(`Malformed measurement : ${measurementValue}`);\n  return {\n    value: valueParts![1],\n    unit: valueParts![2],\n  };\n}\n\ninterface NearleyToken {\n  value: any;\n  [key: string]: any;\n}\n\ninterface NearleyLexer {\n  reset: (chunk: string, info: any) => void;\n  next: () => NearleyToken | undefined;\n  save: () => any;\n  formatError: (token: never) => string;\n  has: (tokenType: string) => boolean;\n}\n\ninterface NearleyRule {\n  name: string;\n  symbols: NearleySymbol[];\n  postprocess?: (d: any[], loc?: number, reject?: {}) => any;\n}\n\ntype NearleySymbol =\n  | string\n  | { literal: any }\n  | { test: (token: any) => boolean };\n\ninterface Grammar {\n  Lexer: NearleyLexer | undefined;\n  ParserRules: NearleyRule[];\n  ParserStart: string;\n}\n\nconst grammar: Grammar = {\n  Lexer: lexer,\n  ParserRules: [\n    {\n      name: 'GramSeq$ebnf$1$subexpression$1',\n      symbols: ['Path'],\n      postprocess: ([pp]) => pp,\n    },\n    { name: 'GramSeq$ebnf$1', symbols: ['GramSeq$ebnf$1$subexpression$1'] },\n    {\n      name: 'GramSeq$ebnf$1$subexpression$2',\n      symbols: ['Path'],\n      postprocess: ([pp]) => pp,\n    },\n    {\n      name: 'GramSeq$ebnf$1',\n      symbols: ['GramSeq$ebnf$1', 'GramSeq$ebnf$1$subexpression$2'],\n      postprocess: d => d[0].concat([d[1]]),\n    },\n    {\n      name: 'GramSeq',\n      symbols: ['_', 'GramSeq$ebnf$1'],\n      postprocess: ([, pp]) => g.seq(g.flatten(pp)),\n    },\n    { name: 'Path', symbols: ['NodePattern'], postprocess: id },\n    { name: 'Path', symbols: ['PathComposition'], postprocess: id },\n    { name: 'Path', symbols: ['PathPair'], postprocess: id },\n    {\n      name: 'NodePattern',\n      symbols: ['Node', '_', 'Edge', '_', 'NodePattern'],\n      postprocess: ([n, , es, , np]) =>\n        g.cons([n, np], {\n          kind: es.kind,\n          id: es.id,\n          labels: es.labels,\n          record: es.record,\n        }),\n    },\n    { name: 'NodePattern', symbols: ['Node'], postprocess: id },\n    { name: 'Node$ebnf$1', symbols: ['Attributes'], postprocess: id },\n    { name: 'Node$ebnf$1', symbols: [], postprocess: () => null },\n    {\n      name: 'Node',\n      symbols: [{ literal: '(' }, '_', 'Node$ebnf$1', { literal: ')' }, '_'],\n      postprocess: ([, , attrs]) =>\n        attrs ? g.node(attrs.id, attrs.labels, attrs.record) : g.node(),\n    },\n    { name: 'Edge$ebnf$1', symbols: ['Attributes'], postprocess: id },\n    { name: 'Edge$ebnf$1', symbols: [], postprocess: () => null },\n    {\n      name: 'Edge',\n      symbols: [{ literal: '-[' }, '_', 'Edge$ebnf$1', { literal: ']->' }, '_'],\n      postprocess: ([, , attrs]) => ({ kind: 'right', ...attrs }),\n    },\n    { name: 'Edge$ebnf$2', symbols: ['Attributes'], postprocess: id },\n    { name: 'Edge$ebnf$2', symbols: [], postprocess: () => null },\n    {\n      name: 'Edge',\n      symbols: [{ literal: '-[' }, '_', 'Edge$ebnf$2', { literal: ']-' }, '_'],\n      postprocess: ([, , attrs]) => ({ kind: 'either', ...attrs }),\n    },\n    { name: 'Edge$ebnf$3', symbols: ['Attributes'], postprocess: id },\n    { name: 'Edge$ebnf$3', symbols: [], postprocess: () => null },\n    {\n      name: 'Edge',\n      symbols: [{ literal: '<-[' }, '_', 'Edge$ebnf$3', { literal: ']-' }, '_'],\n      postprocess: ([, , attrs]) => ({ kind: 'left', ...attrs }),\n    },\n    {\n      name: 'Edge',\n      symbols: [{ literal: '-[]->' }, '_'],\n      postprocess: () => ({ kind: 'right' }),\n    },\n    {\n      name: 'Edge',\n      symbols: [{ literal: '-[]-' }, '_'],\n      postprocess: () => ({ kind: 'either' }),\n    },\n    {\n      name: 'Edge',\n      symbols: [{ literal: '<-[]-' }, '_'],\n      postprocess: () => ({ kind: 'left' }),\n    },\n    {\n      name: 'Edge',\n      symbols: [{ literal: '-->' }, '_'],\n      postprocess: () => ({ kind: 'right' }),\n    },\n    {\n      name: 'Edge',\n      symbols: [{ literal: '--' }, '_'],\n      postprocess: () => ({ kind: 'either' }),\n    },\n    {\n      name: 'Edge',\n      symbols: [{ literal: '<--' }, '_'],\n      postprocess: () => ({ kind: 'left' }),\n    },\n    { name: 'PathComposition', symbols: ['PathPoint'], postprocess: id },\n    { name: 'PathComposition', symbols: ['PathAnnotation'], postprocess: id },\n    { name: 'PathComposition', symbols: ['PathExpression'], postprocess: id },\n    { name: 'PathPoint$ebnf$1', symbols: ['Attributes'], postprocess: id },\n    { name: 'PathPoint$ebnf$1', symbols: [], postprocess: () => null },\n    {\n      name: 'PathPoint',\n      symbols: [\n        { literal: '[' },\n        '_',\n        'PathPoint$ebnf$1',\n        { literal: ']' },\n        '_',\n      ],\n      postprocess: ([, , attr]) => {\n        if (\n          attr &&\n          (attr.id || attr.labels || attr.record) &&\n          attr.id !== 'ø'\n        ) {\n          // console.log(attr);\n          return g.node(attr.id, attr.labels, attr.record);\n        } else {\n          return g.empty();\n        }\n      },\n    },\n    { name: 'PathAnnotation$ebnf$1', symbols: ['Attributes'], postprocess: id },\n    { name: 'PathAnnotation$ebnf$1', symbols: [], postprocess: () => null },\n    {\n      name: 'PathAnnotation',\n      symbols: [\n        { literal: '[' },\n        '_',\n        'PathAnnotation$ebnf$1',\n        'Path',\n        { literal: ']' },\n        '_',\n      ],\n      postprocess: ([, , attr, lhs]) => {\n        // console.log('annotate()', lhs)\n        return g.cons(\n          [lhs],\n          attr ? { id: attr.id, labels: attr.labels, record: attr.record } : {}\n        );\n      },\n    },\n    { name: 'PathExpression$ebnf$1', symbols: ['Attributes'], postprocess: id },\n    { name: 'PathExpression$ebnf$1', symbols: [], postprocess: () => null },\n    { name: 'PathExpression$ebnf$2', symbols: ['Kind'], postprocess: id },\n    { name: 'PathExpression$ebnf$2', symbols: [], postprocess: () => null },\n    {\n      name: 'PathExpression',\n      symbols: [\n        { literal: '[' },\n        '_',\n        'PathExpression$ebnf$1',\n        'PathExpression$ebnf$2',\n        'Path',\n        'Path',\n        { literal: ']' },\n        '_',\n      ],\n      postprocess: ([, , attrs, kind, lhs, rhs]) => {\n        return g.cons([lhs, rhs], {\n          kind,\n          id: attrs.id,\n          labels: attrs.labels,\n          record: attrs.record,\n        });\n      },\n    },\n    { name: 'PathPair$subexpression$1', symbols: ['NodePattern'] },\n    { name: 'PathPair$subexpression$1', symbols: ['PathComposition'] },\n    {\n      name: 'PathPair',\n      symbols: ['PathPair$subexpression$1', { literal: ',' }, '_', 'Path'],\n      postprocess: ([lp, , , rp]) => g.pair([lp[0], rp]),\n    },\n    {\n      name: 'Kind',\n      symbols: [{ literal: ',' }, '_'],\n      postprocess: () => 'pair',\n    },\n    {\n      name: 'Kind',\n      symbols: [{ literal: '-->' }, '_'],\n      postprocess: () => 'right',\n    },\n    {\n      name: 'Kind',\n      symbols: [{ literal: '--' }, '_'],\n      postprocess: () => 'either',\n    },\n    {\n      name: 'Kind',\n      symbols: [{ literal: '<--' }, '_'],\n      postprocess: () => 'left',\n    },\n    { name: 'Attributes$ebnf$1', symbols: ['Identity'], postprocess: id },\n    { name: 'Attributes$ebnf$1', symbols: [], postprocess: () => null },\n    { name: 'Attributes$ebnf$2', symbols: ['LabelList'], postprocess: id },\n    { name: 'Attributes$ebnf$2', symbols: [], postprocess: () => null },\n    { name: 'Attributes$ebnf$3', symbols: ['Record'], postprocess: id },\n    { name: 'Attributes$ebnf$3', symbols: [], postprocess: () => null },\n    {\n      name: 'Attributes',\n      symbols: ['Attributes$ebnf$1', 'Attributes$ebnf$2', 'Attributes$ebnf$3'],\n      postprocess: function(d, _, reject) {\n        const [id, labels, record] = d;\n        if (id || labels || record) {\n          return { id, labels, record };\n        } else return reject;\n      },\n    },\n    { name: 'LabelList$ebnf$1', symbols: ['Label'] },\n    {\n      name: 'LabelList$ebnf$1',\n      symbols: ['LabelList$ebnf$1', 'Label'],\n      postprocess: d => d[0].concat([d[1]]),\n    },\n    {\n      name: 'LabelList',\n      symbols: ['LabelList$ebnf$1'],\n      postprocess: ([labels]) => labels,\n    },\n    {\n      name: 'Label',\n      symbols: [{ literal: ':' }, 'Symbol'],\n      postprocess: ([, label]) => label,\n    },\n    {\n      name: 'Identity',\n      symbols: [\n        lexer.has('identifier') ? { type: 'identifier' } : identifier,\n        '_',\n      ],\n      postprocess: text,\n    },\n    { name: 'Identity', symbols: [{ literal: 'ø' }, '_'], postprocess: text },\n    {\n      name: 'Identity',\n      symbols: [lexer.has('symbol') ? { type: 'symbol' } : symbol, '_'],\n      postprocess: text,\n    },\n    {\n      name: 'Identity',\n      symbols: [lexer.has('integer') ? { type: 'integer' } : integer, '_'],\n      postprocess: text,\n    },\n    {\n      name: 'Identity',\n      symbols: [lexer.has('octal') ? { type: 'octal' } : octal, '_'],\n      postprocess: text,\n    },\n    {\n      name: 'Identity',\n      symbols: [\n        lexer.has('hexadecimal') ? { type: 'hexadecimal' } : hexadecimal,\n        '_',\n      ],\n      postprocess: text,\n    },\n    {\n      name: 'Identity',\n      symbols: [\n        lexer.has('measurement') ? { type: 'measurement' } : measurement,\n        '_',\n      ],\n      postprocess: text,\n    },\n    {\n      name: 'Identity',\n      symbols: [\n        lexer.has('tickedString') ? { type: 'tickedString' } : tickedString,\n        '_',\n      ],\n      postprocess: ([t]) => t.text.slice(1, -1),\n    },\n    {\n      name: 'Symbol',\n      symbols: [lexer.has('symbol') ? { type: 'symbol' } : symbol, '_'],\n      postprocess: text,\n    },\n    {\n      name: 'Symbol',\n      symbols: [\n        lexer.has('tickedString') ? { type: 'tickedString' } : tickedString,\n        '_',\n      ],\n      postprocess: ([t]) => t.text.slice(1, -1),\n    },\n    {\n      name: 'Record',\n      symbols: [{ literal: '{' }, '_', { literal: '}' }, '_'],\n      postprocess: empty,\n    },\n    { name: 'Record$ebnf$1', symbols: [] },\n    {\n      name: 'Record$ebnf$1$subexpression$1',\n      symbols: [{ literal: ',' }, '_', 'Property'],\n      postprocess: ([, , p]) => p,\n    },\n    {\n      name: 'Record$ebnf$1',\n      symbols: ['Record$ebnf$1', 'Record$ebnf$1$subexpression$1'],\n      postprocess: d => d[0].concat([d[1]]),\n    },\n    {\n      name: 'Record',\n      symbols: [\n        { literal: '{' },\n        '_',\n        'Property',\n        'Record$ebnf$1',\n        { literal: '}' },\n        '_',\n      ],\n      postprocess: ([, , p, ps]) => g.propertiesToRecord([p, ...ps]),\n    },\n    {\n      name: 'Property',\n      symbols: ['Symbol', { literal: ':' }, '_', 'Value'],\n      postprocess: ([k, , , v]) => g.property(k, v),\n    },\n    { name: 'Value', symbols: ['StringLiteral', '_'], postprocess: id },\n    { name: 'Value', symbols: ['NumericLiteral', '_'], postprocess: id },\n    {\n      name: 'Value',\n      symbols: [lexer.has('boolean') ? { type: 'boolean' } : boolean, '_'],\n      postprocess: d => g.boolean(JSON.parse(d[0].value.toLowerCase())),\n    },\n    { name: 'Value$ebnf$1', symbols: [] },\n    {\n      name: 'Value$ebnf$1$subexpression$1',\n      symbols: [{ literal: ',' }, '_', 'Value'],\n      postprocess: ([, , v]) => v,\n    },\n    {\n      name: 'Value$ebnf$1',\n      symbols: ['Value$ebnf$1', 'Value$ebnf$1$subexpression$1'],\n      postprocess: d => d[0].concat([d[1]]),\n    },\n    {\n      name: 'Value',\n      symbols: [\n        { literal: '[' },\n        '_',\n        'Value',\n        'Value$ebnf$1',\n        { literal: ']' },\n        '_',\n      ],\n      postprocess: ([, , v, vs]) => [v, ...vs],\n    },\n    {\n      name: 'StringLiteral',\n      symbols: [\n        lexer.has('singleQuotedString')\n          ? { type: 'singleQuotedString' }\n          : singleQuotedString,\n      ],\n      postprocess: d => g.string(d[0].value),\n    },\n    {\n      name: 'StringLiteral',\n      symbols: [\n        lexer.has('doubleQuotedString')\n          ? { type: 'doubleQuotedString' }\n          : doubleQuotedString,\n      ],\n      postprocess: d => g.string(d[0].value),\n    },\n    {\n      name: 'StringLiteral',\n      symbols: [\n        lexer.has('tickedString') ? { type: 'tickedString' } : tickedString,\n      ],\n      postprocess: d => g.string(d[0].value),\n    },\n    {\n      name: 'StringLiteral',\n      symbols: [\n        lexer.has('taggedString') ? { type: 'taggedString' } : taggedString,\n      ],\n      postprocess: d => {\n        const parts = separateTagFromString(d[0].value);\n        return g.tagged(parts.tag, parts.value);\n      },\n    },\n    {\n      name: 'NumericLiteral',\n      symbols: [lexer.has('integer') ? { type: 'integer' } : integer],\n      postprocess: d => g.integer(d[0].value),\n    },\n    {\n      name: 'NumericLiteral',\n      symbols: [lexer.has('decimal') ? { type: 'decimal' } : decimal],\n      postprocess: d => g.decimal(d[0].value),\n    },\n    {\n      name: 'NumericLiteral',\n      symbols: [\n        lexer.has('hexadecimal') ? { type: 'hexadecimal' } : hexadecimal,\n      ],\n      postprocess: d => g.hexadecimal(d[0].value),\n    },\n    {\n      name: 'NumericLiteral',\n      symbols: [lexer.has('octal') ? { type: 'octal' } : octal],\n      postprocess: d => g.octal(d[0].value),\n    },\n    {\n      name: 'NumericLiteral',\n      symbols: [\n        lexer.has('measurement') ? { type: 'measurement' } : measurement,\n      ],\n      postprocess: d => {\n        const parts = separateNumberFromUnits(d[0].value);\n        return g.measurement(parts.unit, parts.value);\n      },\n    },\n    {\n      name: '_$ebnf$1',\n      symbols: [lexer.has('whitespace') ? { type: 'whitespace' } : whitespace],\n      postprocess: id,\n    },\n    { name: '_$ebnf$1', symbols: [], postprocess: () => null },\n    { name: '_', symbols: ['_$ebnf$1'], postprocess: empty },\n    {\n      name: 'Comment',\n      symbols: [\n        lexer.has('lineComment') ? { type: 'lineComment' } : lineComment,\n      ],\n      postprocess: empty,\n    },\n    { name: 'EOL', symbols: [{ literal: '\\n' }], postprocess: empty },\n  ],\n  ParserStart: 'GramSeq',\n};\n\nexport default grammar;\n","(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory) /* global define */\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory()\n  } else {\n    root.moo = factory()\n  }\n}(this, function() {\n  'use strict';\n\n  var hasOwnProperty = Object.prototype.hasOwnProperty\n  var toString = Object.prototype.toString\n  var hasSticky = typeof new RegExp().sticky === 'boolean'\n\n  /***************************************************************************/\n\n  function isRegExp(o) { return o && toString.call(o) === '[object RegExp]' }\n  function isObject(o) { return o && typeof o === 'object' && !isRegExp(o) && !Array.isArray(o) }\n\n  function reEscape(s) {\n    return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n  }\n  function reGroups(s) {\n    var re = new RegExp('|' + s)\n    return re.exec('').length - 1\n  }\n  function reCapture(s) {\n    return '(' + s + ')'\n  }\n  function reUnion(regexps) {\n    if (!regexps.length) return '(?!)'\n    var source =  regexps.map(function(s) {\n      return \"(?:\" + s + \")\"\n    }).join('|')\n    return \"(?:\" + source + \")\"\n  }\n\n  function regexpOrLiteral(obj) {\n    if (typeof obj === 'string') {\n      return '(?:' + reEscape(obj) + ')'\n\n    } else if (isRegExp(obj)) {\n      // TODO: consider /u support\n      if (obj.ignoreCase) throw new Error('RegExp /i flag not allowed')\n      if (obj.global) throw new Error('RegExp /g flag is implied')\n      if (obj.sticky) throw new Error('RegExp /y flag is implied')\n      if (obj.multiline) throw new Error('RegExp /m flag is implied')\n      return obj.source\n\n    } else {\n      throw new Error('Not a pattern: ' + obj)\n    }\n  }\n\n  function objectToRules(object) {\n    var keys = Object.getOwnPropertyNames(object)\n    var result = []\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      var thing = object[key]\n      var rules = [].concat(thing)\n      if (key === 'include') {\n        for (var j = 0; j < rules.length; j++) {\n          result.push({include: rules[j]})\n        }\n        continue\n      }\n      var match = []\n      rules.forEach(function(rule) {\n        if (isObject(rule)) {\n          if (match.length) result.push(ruleOptions(key, match))\n          result.push(ruleOptions(key, rule))\n          match = []\n        } else {\n          match.push(rule)\n        }\n      })\n      if (match.length) result.push(ruleOptions(key, match))\n    }\n    return result\n  }\n\n  function arrayToRules(array) {\n    var result = []\n    for (var i = 0; i < array.length; i++) {\n      var obj = array[i]\n      if (obj.include) {\n        var include = [].concat(obj.include)\n        for (var j = 0; j < include.length; j++) {\n          result.push({include: include[j]})\n        }\n        continue\n      }\n      if (!obj.type) {\n        throw new Error('Rule has no type: ' + JSON.stringify(obj))\n      }\n      result.push(ruleOptions(obj.type, obj))\n    }\n    return result\n  }\n\n  function ruleOptions(type, obj) {\n    if (!isObject(obj)) {\n      obj = { match: obj }\n    }\n    if (obj.include) {\n      throw new Error('Matching rules cannot also include states')\n    }\n\n    // nb. error and fallback imply lineBreaks\n    var options = {\n      defaultType: type,\n      lineBreaks: !!obj.error || !!obj.fallback,\n      pop: false,\n      next: null,\n      push: null,\n      error: false,\n      fallback: false,\n      value: null,\n      type: null,\n      shouldThrow: false,\n    }\n\n    // Avoid Object.assign(), so we support IE9+\n    for (var key in obj) {\n      if (hasOwnProperty.call(obj, key)) {\n        options[key] = obj[key]\n      }\n    }\n\n    // type transform cannot be a string\n    if (typeof options.type === 'string' && type !== options.type) {\n      throw new Error(\"Type transform cannot be a string (type '\" + options.type + \"' for token '\" + type + \"')\")\n    }\n\n    // convert to array\n    var match = options.match\n    options.match = Array.isArray(match) ? match : match ? [match] : []\n    options.match.sort(function(a, b) {\n      return isRegExp(a) && isRegExp(b) ? 0\n           : isRegExp(b) ? -1 : isRegExp(a) ? +1 : b.length - a.length\n    })\n    return options\n  }\n\n  function toRules(spec) {\n    return Array.isArray(spec) ? arrayToRules(spec) : objectToRules(spec)\n  }\n\n  var defaultErrorRule = ruleOptions('error', {lineBreaks: true, shouldThrow: true})\n  function compileRules(rules, hasStates) {\n    var errorRule = null\n    var fast = Object.create(null)\n    var fastAllowed = true\n    var unicodeFlag = null\n    var groups = []\n    var parts = []\n\n    // If there is a fallback rule, then disable fast matching\n    for (var i = 0; i < rules.length; i++) {\n      if (rules[i].fallback) {\n        fastAllowed = false\n      }\n    }\n\n    for (var i = 0; i < rules.length; i++) {\n      var options = rules[i]\n\n      if (options.include) {\n        // all valid inclusions are removed by states() preprocessor\n        throw new Error('Inheritance is not allowed in stateless lexers')\n      }\n\n      if (options.error || options.fallback) {\n        // errorRule can only be set once\n        if (errorRule) {\n          if (!options.fallback === !errorRule.fallback) {\n            throw new Error(\"Multiple \" + (options.fallback ? \"fallback\" : \"error\") + \" rules not allowed (for token '\" + options.defaultType + \"')\")\n          } else {\n            throw new Error(\"fallback and error are mutually exclusive (for token '\" + options.defaultType + \"')\")\n          }\n        }\n        errorRule = options\n      }\n\n      var match = options.match.slice()\n      if (fastAllowed) {\n        while (match.length && typeof match[0] === 'string' && match[0].length === 1) {\n          var word = match.shift()\n          fast[word.charCodeAt(0)] = options\n        }\n      }\n\n      // Warn about inappropriate state-switching options\n      if (options.pop || options.push || options.next) {\n        if (!hasStates) {\n          throw new Error(\"State-switching options are not allowed in stateless lexers (for token '\" + options.defaultType + \"')\")\n        }\n        if (options.fallback) {\n          throw new Error(\"State-switching options are not allowed on fallback tokens (for token '\" + options.defaultType + \"')\")\n        }\n      }\n\n      // Only rules with a .match are included in the RegExp\n      if (match.length === 0) {\n        continue\n      }\n      fastAllowed = false\n\n      groups.push(options)\n\n      // Check unicode flag is used everywhere or nowhere\n      for (var j = 0; j < match.length; j++) {\n        var obj = match[j]\n        if (!isRegExp(obj)) {\n          continue\n        }\n\n        if (unicodeFlag === null) {\n          unicodeFlag = obj.unicode\n        } else if (unicodeFlag !== obj.unicode && options.fallback === false) {\n          throw new Error('If one rule is /u then all must be')\n        }\n      }\n\n      // convert to RegExp\n      var pat = reUnion(match.map(regexpOrLiteral))\n\n      // validate\n      var regexp = new RegExp(pat)\n      if (regexp.test(\"\")) {\n        throw new Error(\"RegExp matches empty string: \" + regexp)\n      }\n      var groupCount = reGroups(pat)\n      if (groupCount > 0) {\n        throw new Error(\"RegExp has capture groups: \" + regexp + \"\\nUse (?: … ) instead\")\n      }\n\n      // try and detect rules matching newlines\n      if (!options.lineBreaks && regexp.test('\\n')) {\n        throw new Error('Rule should declare lineBreaks: ' + regexp)\n      }\n\n      // store regex\n      parts.push(reCapture(pat))\n    }\n\n\n    // If there's no fallback rule, use the sticky flag so we only look for\n    // matches at the current index.\n    //\n    // If we don't support the sticky flag, then fake it using an irrefutable\n    // match (i.e. an empty pattern).\n    var fallbackRule = errorRule && errorRule.fallback\n    var flags = hasSticky && !fallbackRule ? 'ym' : 'gm'\n    var suffix = hasSticky || fallbackRule ? '' : '|'\n\n    if (unicodeFlag === true) flags += \"u\"\n    var combined = new RegExp(reUnion(parts) + suffix, flags)\n    return {regexp: combined, groups: groups, fast: fast, error: errorRule || defaultErrorRule}\n  }\n\n  function compile(rules) {\n    var result = compileRules(toRules(rules))\n    return new Lexer({start: result}, 'start')\n  }\n\n  function checkStateGroup(g, name, map) {\n    var state = g && (g.push || g.next)\n    if (state && !map[state]) {\n      throw new Error(\"Missing state '\" + state + \"' (in token '\" + g.defaultType + \"' of state '\" + name + \"')\")\n    }\n    if (g && g.pop && +g.pop !== 1) {\n      throw new Error(\"pop must be 1 (in token '\" + g.defaultType + \"' of state '\" + name + \"')\")\n    }\n  }\n  function compileStates(states, start) {\n    var all = states.$all ? toRules(states.$all) : []\n    delete states.$all\n\n    var keys = Object.getOwnPropertyNames(states)\n    if (!start) start = keys[0]\n\n    var ruleMap = Object.create(null)\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      ruleMap[key] = toRules(states[key]).concat(all)\n    }\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      var rules = ruleMap[key]\n      var included = Object.create(null)\n      for (var j = 0; j < rules.length; j++) {\n        var rule = rules[j]\n        if (!rule.include) continue\n        var splice = [j, 1]\n        if (rule.include !== key && !included[rule.include]) {\n          included[rule.include] = true\n          var newRules = ruleMap[rule.include]\n          if (!newRules) {\n            throw new Error(\"Cannot include nonexistent state '\" + rule.include + \"' (in state '\" + key + \"')\")\n          }\n          for (var k = 0; k < newRules.length; k++) {\n            var newRule = newRules[k]\n            if (rules.indexOf(newRule) !== -1) continue\n            splice.push(newRule)\n          }\n        }\n        rules.splice.apply(rules, splice)\n        j--\n      }\n    }\n\n    var map = Object.create(null)\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      map[key] = compileRules(ruleMap[key], true)\n    }\n\n    for (var i = 0; i < keys.length; i++) {\n      var name = keys[i]\n      var state = map[name]\n      var groups = state.groups\n      for (var j = 0; j < groups.length; j++) {\n        checkStateGroup(groups[j], name, map)\n      }\n      var fastKeys = Object.getOwnPropertyNames(state.fast)\n      for (var j = 0; j < fastKeys.length; j++) {\n        checkStateGroup(state.fast[fastKeys[j]], name, map)\n      }\n    }\n\n    return new Lexer(map, start)\n  }\n\n  function keywordTransform(map) {\n    var reverseMap = Object.create(null)\n    var byLength = Object.create(null)\n    var types = Object.getOwnPropertyNames(map)\n    for (var i = 0; i < types.length; i++) {\n      var tokenType = types[i]\n      var item = map[tokenType]\n      var keywordList = Array.isArray(item) ? item : [item]\n      keywordList.forEach(function(keyword) {\n        (byLength[keyword.length] = byLength[keyword.length] || []).push(keyword)\n        if (typeof keyword !== 'string') {\n          throw new Error(\"keyword must be string (in keyword '\" + tokenType + \"')\")\n        }\n        reverseMap[keyword] = tokenType\n      })\n    }\n\n    // fast string lookup\n    // https://jsperf.com/string-lookups\n    function str(x) { return JSON.stringify(x) }\n    var source = ''\n    source += 'switch (value.length) {\\n'\n    for (var length in byLength) {\n      var keywords = byLength[length]\n      source += 'case ' + length + ':\\n'\n      source += 'switch (value) {\\n'\n      keywords.forEach(function(keyword) {\n        var tokenType = reverseMap[keyword]\n        source += 'case ' + str(keyword) + ': return ' + str(tokenType) + '\\n'\n      })\n      source += '}\\n'\n    }\n    source += '}\\n'\n    return Function('value', source) // type\n  }\n\n  /***************************************************************************/\n\n  var Lexer = function(states, state) {\n    this.startState = state\n    this.states = states\n    this.buffer = ''\n    this.stack = []\n    this.reset()\n  }\n\n  Lexer.prototype.reset = function(data, info) {\n    this.buffer = data || ''\n    this.index = 0\n    this.line = info ? info.line : 1\n    this.col = info ? info.col : 1\n    this.queuedToken = info ? info.queuedToken : null\n    this.queuedThrow = info ? info.queuedThrow : null\n    this.setState(info ? info.state : this.startState)\n    this.stack = info && info.stack ? info.stack.slice() : []\n    return this\n  }\n\n  Lexer.prototype.save = function() {\n    return {\n      line: this.line,\n      col: this.col,\n      state: this.state,\n      stack: this.stack.slice(),\n      queuedToken: this.queuedToken,\n      queuedThrow: this.queuedThrow,\n    }\n  }\n\n  Lexer.prototype.setState = function(state) {\n    if (!state || this.state === state) return\n    this.state = state\n    var info = this.states[state]\n    this.groups = info.groups\n    this.error = info.error\n    this.re = info.regexp\n    this.fast = info.fast\n  }\n\n  Lexer.prototype.popState = function() {\n    this.setState(this.stack.pop())\n  }\n\n  Lexer.prototype.pushState = function(state) {\n    this.stack.push(this.state)\n    this.setState(state)\n  }\n\n  var eat = hasSticky ? function(re, buffer) { // assume re is /y\n    return re.exec(buffer)\n  } : function(re, buffer) { // assume re is /g\n    var match = re.exec(buffer)\n    // will always match, since we used the |(?:) trick\n    if (match[0].length === 0) {\n      return null\n    }\n    return match\n  }\n\n  Lexer.prototype._getGroup = function(match) {\n    var groupCount = this.groups.length\n    for (var i = 0; i < groupCount; i++) {\n      if (match[i + 1] !== undefined) {\n        return this.groups[i]\n      }\n    }\n    throw new Error('Cannot find token type for matched text')\n  }\n\n  function tokenToString() {\n    return this.value\n  }\n\n  Lexer.prototype.next = function() {\n    var index = this.index\n\n    // If a fallback token matched, we don't need to re-run the RegExp\n    if (this.queuedGroup) {\n      var token = this._token(this.queuedGroup, this.queuedText, index)\n      this.queuedGroup = null\n      this.queuedText = \"\"\n      return token\n    }\n\n    var buffer = this.buffer\n    if (index === buffer.length) {\n      return // EOF\n    }\n\n    // Fast matching for single characters\n    var group = this.fast[buffer.charCodeAt(index)]\n    if (group) {\n      return this._token(group, buffer.charAt(index), index)\n    }\n\n    // Execute RegExp\n    var re = this.re\n    re.lastIndex = index\n    var match = eat(re, buffer)\n\n    // Error tokens match the remaining buffer\n    var error = this.error\n    if (match == null) {\n      return this._token(error, buffer.slice(index, buffer.length), index)\n    }\n\n    var group = this._getGroup(match)\n    var text = match[0]\n\n    if (error.fallback && match.index !== index) {\n      this.queuedGroup = group\n      this.queuedText = text\n\n      // Fallback tokens contain the unmatched portion of the buffer\n      return this._token(error, buffer.slice(index, match.index), index)\n    }\n\n    return this._token(group, text, index)\n  }\n\n  Lexer.prototype._token = function(group, text, offset) {\n    // count line breaks\n    var lineBreaks = 0\n    if (group.lineBreaks) {\n      var matchNL = /\\n/g\n      var nl = 1\n      if (text === '\\n') {\n        lineBreaks = 1\n      } else {\n        while (matchNL.exec(text)) { lineBreaks++; nl = matchNL.lastIndex }\n      }\n    }\n\n    var token = {\n      type: (typeof group.type === 'function' && group.type(text)) || group.defaultType,\n      value: typeof group.value === 'function' ? group.value(text) : text,\n      text: text,\n      toString: tokenToString,\n      offset: offset,\n      lineBreaks: lineBreaks,\n      line: this.line,\n      col: this.col,\n    }\n    // nb. adding more props to token object will make V8 sad!\n\n    var size = text.length\n    this.index += size\n    this.line += lineBreaks\n    if (lineBreaks !== 0) {\n      this.col = size - nl + 1\n    } else {\n      this.col += size\n    }\n\n    // throw, if no rule with {error: true}\n    if (group.shouldThrow) {\n      throw new Error(this.formatError(token, \"invalid syntax\"))\n    }\n\n    if (group.pop) this.popState()\n    else if (group.push) this.pushState(group.push)\n    else if (group.next) this.setState(group.next)\n\n    return token\n  }\n\n  if (typeof Symbol !== 'undefined' && Symbol.iterator) {\n    var LexerIterator = function(lexer) {\n      this.lexer = lexer\n    }\n\n    LexerIterator.prototype.next = function() {\n      var token = this.lexer.next()\n      return {value: token, done: !token}\n    }\n\n    LexerIterator.prototype[Symbol.iterator] = function() {\n      return this\n    }\n\n    Lexer.prototype[Symbol.iterator] = function() {\n      return new LexerIterator(this)\n    }\n  }\n\n  Lexer.prototype.formatError = function(token, message) {\n    if (token == null) {\n      // An undefined token indicates EOF\n      var text = this.buffer.slice(this.index)\n      var token = {\n        text: text,\n        offset: this.index,\n        lineBreaks: text.indexOf('\\n') === -1 ? 0 : 1,\n        line: this.line,\n        col: this.col,\n      }\n    }\n    var start = Math.max(0, token.offset - token.col + 1)\n    var eol = token.lineBreaks ? token.text.indexOf('\\n') : token.text.length\n    var firstLine = this.buffer.substring(start, token.offset + eol)\n    message += \" at line \" + token.line + \" col \" + token.col + \":\\n\\n\"\n    message += \"  \" + firstLine + \"\\n\"\n    message += \"  \" + Array(token.col).join(\" \") + \"^\"\n    return message\n  }\n\n  Lexer.prototype.clone = function() {\n    return new Lexer(this.states, this.state)\n  }\n\n  Lexer.prototype.has = function(tokenType) {\n    return true\n  }\n\n\n  return {\n    compile: compile,\n    states: compileStates,\n    error: Object.freeze({error: true}),\n    fallback: Object.freeze({fallback: true}),\n    keywords: keywordTransform,\n  }\n\n}));\n","import { ParserFunction, Plugin } from 'unified';\n// import {Node as UnistNode} from 'unist';\nimport { VFile } from 'vfile';\nimport nearley from 'nearley';\n\nimport grammar from './gram-grammar';\nimport * as errors from './gram-errors';\n\nimport { Point } from 'unist';\nimport { LexerState } from 'nearley';\nimport { Token } from 'moo';\n\nconst lexerLocation = (state: LexerState): Point => {\n  return {\n    line: state.line,\n    column: state.col,\n  };\n};\n\nconst tokenLocation = (token: Token) => {\n  return {\n    line: token.line,\n    column: token.col,\n  };\n};\n\nexport const parse: ParserFunction = (text: string, file: VFile) => {\n  const nearleyParser = new nearley.Parser(\n    nearley.Grammar.fromCompiled(grammar)\n  );\n  try {\n    const parsed = nearleyParser.feed(text);\n    if (parsed.results[0] === undefined && parsed.lexerState) {\n      const location = lexerLocation(parsed.lexerState);\n      file.fail(errors.INCOMPLETE_PARSE, location);\n    }\n    if (parsed.results.length > 1) {\n      file.info('[WARN] parsing is ambiguous');\n    }\n    return parsed.results[0] || { type: 'error' };\n  } catch (e) {\n    const location = e.token ? tokenLocation(e.token) : { line: 0, column: 0 };\n    file.fail(e.message, location);\n  }\n};\nexport interface GramParserSettings {\n  strict: boolean;\n}\n\nconst gramParserPlugin: Plugin<GramParserSettings[]> = function() {\n  this.Parser = parse;\n};\n\nexport default gramParserPlugin;\n","export const INCOMPLETE_PARSE = 'Incomplete parse.';\nexport const SYNTAX_ERROR = 'Syntax error at';\n","// This file replaces `index.js` in bundlers like webpack or Rollup,\n// according to `browser` config in `package.json`.\n\nimport { urlAlphabet } from './url-alphabet/index.js'\n\nif (process.env.NODE_ENV !== 'production') {\n  // All bundlers will remove this block in the production bundle.\n  if (\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative' &&\n    typeof crypto === 'undefined'\n  ) {\n    throw new Error(\n      'React Native does not have a built-in secure random generator. ' +\n        'If you don’t need unpredictable IDs use `nanoid/non-secure`. ' +\n        'For secure IDs, import `react-native-get-random-values` ' +\n        'before Nano ID. If you use Expo, install `expo-random` ' +\n        'and use `nanoid/async`.'\n    )\n  }\n  if (typeof msCrypto !== 'undefined' && typeof crypto === 'undefined') {\n    throw new Error(\n      'Import file with `if (!window.crypto) window.crypto = window.msCrypto`' +\n        ' before importing Nano ID to fix IE 11 support'\n    )\n  }\n  if (typeof crypto === 'undefined') {\n    throw new Error(\n      'Your browser does not have secure random generator. ' +\n        'If you don’t need unpredictable IDs, you can use nanoid/non-secure.'\n    )\n  }\n}\n\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\n\nlet customRandom = (alphabet, size, getRandom) => {\n  // First, a bitmask is necessary to generate the ID. The bitmask makes bytes\n  // values closer to the alphabet size. The bitmask calculates the closest\n  // `2^31 - 1` number, which exceeds the alphabet size.\n  // For example, the bitmask for the alphabet size 30 is 31 (00011111).\n  // `Math.clz32` is not used, because it is not available in browsers.\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  // Though, the bitmask solution is not perfect since the bytes exceeding\n  // the alphabet size are refused. Therefore, to reliably generate the ID,\n  // the random bytes redundancy has to be satisfied.\n\n  // Note: every hardware random generator call is performance expensive,\n  // because the system call for entropy collection takes a lot of time.\n  // So, to avoid additional system calls, extra bytes are requested in advance.\n\n  // Next, a step determines how many random bytes to generate.\n  // The number of random bytes gets decided upon the ID size, mask,\n  // alphabet size, and magic number 1.6 (using 1.6 peaks at performance\n  // according to benchmarks).\n\n  // `-~f => Math.ceil(f)` if f is a float\n  // `-~i => i + 1` if i is an integer\n  let step = -~((1.6 * mask * size) / alphabet.length)\n\n  return () => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      // A compact alternative for `for (var i = 0; i < step; i++)`.\n      let j = step\n      while (j--) {\n        // Adding `|| ''` refuses a random byte that exceeds the alphabet size.\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\n\nlet customAlphabet = (alphabet, size) => customRandom(alphabet, size, random)\n\nlet nanoid = (size = 21) => {\n  let id = ''\n  let bytes = crypto.getRandomValues(new Uint8Array(size))\n\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\n  while (size--) {\n    // It is incorrect to use bytes exceeding the alphabet size.\n    // The following mask reduces the random byte in the 0-255 value\n    // range to the 0-63 value range. Therefore, adding hacks, such\n    // as empty string fallback or magic numbers, is unneccessary because\n    // the bitmask trims bytes down to the alphabet size.\n    let byte = bytes[size] & 63\n    if (byte < 36) {\n      // `0-9a-z`\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      // `A-Z`\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte < 63) {\n      id += '_'\n    } else {\n      id += '-'\n    }\n  }\n  return id\n}\n\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","'use strict'\n\nmodule.exports = convert\n\nfunction convert(test) {\n  if (test == null) {\n    return ok\n  }\n\n  if (typeof test === 'string') {\n    return typeFactory(test)\n  }\n\n  if (typeof test === 'object') {\n    return 'length' in test ? anyFactory(test) : allFactory(test)\n  }\n\n  if (typeof test === 'function') {\n    return test\n  }\n\n  throw new Error('Expected function, string, or object as test')\n}\n\n// Utility assert each property in `test` is represented in `node`, and each\n// values are strictly equal.\nfunction allFactory(test) {\n  return all\n\n  function all(node) {\n    var key\n\n    for (key in test) {\n      if (node[key] !== test[key]) return false\n    }\n\n    return true\n  }\n}\n\nfunction anyFactory(tests) {\n  var checks = []\n  var index = -1\n\n  while (++index < tests.length) {\n    checks[index] = convert(tests[index])\n  }\n\n  return any\n\n  function any() {\n    var index = -1\n\n    while (++index < checks.length) {\n      if (checks[index].apply(this, arguments)) {\n        return true\n      }\n    }\n\n    return false\n  }\n}\n\n// Utility to convert a string into a function which checks a given node’s type\n// for said string.\nfunction typeFactory(test) {\n  return type\n\n  function type(node) {\n    return Boolean(node && node.type === test)\n  }\n}\n\n// Utility to return true.\nfunction ok() {\n  return true\n}\n","module.exports = identity\nfunction identity(d) {\n  return d\n}\n","'use strict'\n\nmodule.exports = visitParents\n\nvar convert = require('unist-util-is/convert')\nvar color = require('./color')\n\nvar CONTINUE = true\nvar SKIP = 'skip'\nvar EXIT = false\n\nvisitParents.CONTINUE = CONTINUE\nvisitParents.SKIP = SKIP\nvisitParents.EXIT = EXIT\n\nfunction visitParents(tree, test, visitor, reverse) {\n  var step\n  var is\n\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  is = convert(test)\n  step = reverse ? -1 : 1\n\n  factory(tree, null, [])()\n\n  function factory(node, index, parents) {\n    var value = typeof node === 'object' && node !== null ? node : {}\n    var name\n\n    if (typeof value.type === 'string') {\n      name =\n        typeof value.tagName === 'string'\n          ? value.tagName\n          : typeof value.name === 'string'\n          ? value.name\n          : undefined\n\n      visit.displayName =\n        'node (' + color(value.type + (name ? '<' + name + '>' : '')) + ')'\n    }\n\n    return visit\n\n    function visit() {\n      var grandparents = parents.concat(node)\n      var result = []\n      var subresult\n      var offset\n\n      if (!test || is(node, index, parents[parents.length - 1] || null)) {\n        result = toResult(visitor(node, parents))\n\n        if (result[0] === EXIT) {\n          return result\n        }\n      }\n\n      if (node.children && result[0] !== SKIP) {\n        offset = (reverse ? node.children.length : -1) + step\n\n        while (offset > -1 && offset < node.children.length) {\n          subresult = factory(node.children[offset], offset, grandparents)()\n\n          if (subresult[0] === EXIT) {\n            return subresult\n          }\n\n          offset =\n            typeof subresult[1] === 'number' ? subresult[1] : offset + step\n        }\n      }\n\n      return result\n    }\n  }\n}\n\nfunction toResult(value) {\n  if (value !== null && typeof value === 'object' && 'length' in value) {\n    return value\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value]\n  }\n\n  return [value]\n}\n","'use strict'\n\nmodule.exports = visit\n\nvar visitParents = require('unist-util-visit-parents')\n\nvar CONTINUE = visitParents.CONTINUE\nvar SKIP = visitParents.SKIP\nvar EXIT = visitParents.EXIT\n\nvisit.CONTINUE = CONTINUE\nvisit.SKIP = SKIP\nvisit.EXIT = EXIT\n\nfunction visit(tree, test, visitor, reverse) {\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  visitParents(tree, test, overload, reverse)\n\n  function overload(node, parents) {\n    var parent = parents[parents.length - 1]\n    var index = parent ? parent.children.indexOf(node) : null\n    return visitor(node, index, parent)\n  }\n}\n","import { Plugin, Transformer } from 'unified';\nimport { Node as UnistNode } from 'unist';\n\nimport { isGramPath } from '@gram-data/gram-ast';\nimport { alphabets } from './identity-alphabets';\nimport { IDGenerator } from './generator-type';\nimport { counterIDGenerator } from './counter-generator';\nimport { nanoidGenerator } from './nanoid-generator';\n\nimport visit from 'unist-util-visit';\n\nexport interface IdentityPluginSettings {\n  generator: 'counter' | 'nanoid';\n  alphabet?: string;\n  prefix?: string;\n}\n\nconst defaultSettings = {\n  generator: 'counter',\n  alphabet: alphabets.base58,\n  prefix: undefined,\n};\n\nexport const gramIdentityPlugin: Plugin<IdentityPluginSettings[]> = (\n  settings: IdentityPluginSettings\n) => {\n  const s = { ...defaultSettings, ...settings };\n\n  const identification: Transformer = (tree: UnistNode) => {\n    let generator: IDGenerator;\n    switch (s.generator) {\n      case 'nanoid':\n        generator = nanoidGenerator(s.alphabet, 21, s.prefix);\n        break;\n      case 'counter':\n      default:\n        generator = counterIDGenerator(s.prefix);\n    }\n\n    visit(tree, (element: UnistNode) => {\n      if (isGramPath(element)) {\n        element.id = element.id || generator.generate();\n      }\n    });\n  };\n\n  return identification;\n};\n\nexport default gramIdentityPlugin;\n","export const alphabets = {\n  base2: '01',\n  dieBase6: '⚀⚁⚂⚃⚄⚅',\n  base8: '01234567',\n  base10: '0123456789',\n  astrologyBase12: '♈︎♉︎♊︎♋︎♌︎♍︎♎︎♏︎♐︎♑︎♒︎♓︎',\n  base11: '0123456789a',\n  chessBase12: '♚♛♜♝♞♟♔♕♖♗♘♙',\n  base16: '0123456789abcdef',\n  dominoBase28: '🁣🁤🁫🁥🁬🁳🁦🁭🁴🁻🁧🁮🁵🁼🂃🁨🁯🁶🁽🂊🂋🁩🁰🁷🁾🂅🂌🂓',\n  base32: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  zBase32: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  crock32: '0123456789ABCDEFGHJKMNPQRSTVWXYZ',\n  base32Hex: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  base36: '0123456789abcdefghijklmnopqrstuvwxyz',\n  mahjongBase43: '🀑🀒🀓🀔🀕🀖🀗🀘🀙🀚🀛🀜🀝🀞🀟🀠🀡🀇🀈🀉🀊🀋🀌🀍🀎🀏🀀🀁🀂🀃🀄︎🀅🀆🀐🀢🀣🀤🀥🀦🀧🀨🀩🀪',\n  cards56: '🂡🂢🂣🂤🂥🂦🂧🂨🂩🂪🂫🂬🂭🂮🂱🂲🂳🂴🂵🂶🂷🂸🂹🂺🂻🂼🂽🂾🃁🃂🃃🃄🃅🃆🃇🃈🃉🃊🃋🃌🃍🃎🃑🃒🃓🃔🃕🃖🃗🃘🃙🃝🃞',\n  base58: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ',\n  flickrBase58: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ',\n  base62: '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ',\n  base64: '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_@',\n  cookieBase90:\n    \"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ!#$%&'()*+-./:<=>?@[]^_`{|}~\",\n};\n\n","import {\n  BooleanLiteral,\n  StringLiteral,\n  DateLiteral,\n  IntegerLiteral,\n  MeasurementLiteral,\n  DecimalLiteral,\n  HexadecimalLiteral,\n  OctalLiteral,\n  TimeLiteral,\n  DurationLiteral,\n  GramRecordValue,\n  GramLiteral,\n  isGramLiteralArray,\n  isGramLiteral,\n  isGramRecord,\n  GramRecord,\n  TaggedTextLiteral,\n} from '@gram-data/gram-ast';\n\nimport {\n  Parent as UnistParent,\n  Literal as UnistLiteral,\n  Node as UnistNode,\n} from 'unist';\n\nexport const iso8601Year = /^([+-]\\d{4,}\\b|\\d{4})$/;\nexport const iso8601YearMonth = /^([0-9]{4})-(1[0-2]|0[1-9])$/;\nexport const iso8601YearMonthDay = /^([0-9]{4})(-?)(1[0-2]|0[1-9])\\2(3[01]|0[1-9]|[12][0-9])$/;\nexport const iso8601OrdinalDate = /^([0-9]{4})-?(36[0-6]|3[0-5][0-9]|[12][0-9]{2}|0[1-9][0-9]|00[1-9])$/;\nexport const iso8601WeekOfYear = /^([0-9]{4})-?W(5[0-3]|[1-4][0-9]|0[1-9])$/;\nexport const iso8601WeekDate = /^([0-9]{4})-?W(5[0-3]|[1-4][0-9]|0[1-9])-?([1-7])$/;\nexport const iso8601LocalTime = /^(2[0-3]|[01][0-9]):?([0-5][0-9])(:?([0-5][0-9](\\.[0-9]{3})?))?$/;\n// export const iso8601Time = /^(2[0-3]|[01][0-9]):?([0-5][0-9]):?([0-5][0-9](\\.[0-9]{3})?)?(Z|[+-](?:2[0-3]|[01][0-9])(?::?(?:[0-5][0-9]))?)?$/;\nexport const iso8601Time = /^(2[0-3]|[01][0-9]):?([0-5][0-9]):?([0-5][0-9](\\.[0-9]{3})?)?(Z|([+-])((?:2[0-3]|[01][0-9]))(?::?([0-5][0-9]))?)?$/;\nexport const iso8601Duration = /^P((\\d+)Y)?((\\d+)M)?((\\d+)D)?(T((\\d+)H)?((\\d+)M)?((\\d+)S)?)?$/;\nexport const iso8601Repeat = /^R(\\d*)$/;\n\nclass InvalidAstError extends Error {\n  ast: UnistParent | UnistLiteral | UnistNode;\n  constructor(ast: UnistParent | UnistLiteral | UnistNode) {\n    super('AST is invalid:' + JSON.stringify(ast));\n    this.name = 'InvalidAstError';\n    this.ast = ast;\n  }\n}\n\n/**\n * Type of function used to evaluate text literal values.\n *\n */\nexport type LiteralValueEvaluator = (ast: GramLiteral) => any;\n\n/**\n * Evaluates data structures and text literal values, returning\n * native objects and primitive values.\n *\n * @see {@linkcode valueOfLiteral} for default literal value evaluator\n */\nexport const valueOf = (\n  recordValue: GramRecordValue | GramRecord,\n  literalValueEvaluator = valueOfLiteral\n): any => {\n  if (isGramRecord(recordValue)) {\n    return Array.from(recordValue).reduce((acc, [k, v]) => {\n      acc[k] = valueOf(v);\n      return acc;\n    }, {} as { [key: string]: any });\n  } else {\n    if (isGramLiteralArray(recordValue)) {\n      return recordValue.map((v: GramLiteral) => valueOf(v));\n    } else if (isGramLiteral(recordValue)) {\n      return literalValueEvaluator(recordValue as GramLiteral);\n    } else if (typeof recordValue === 'object') {\n      return Object.entries(recordValue).reduce((acc, [k, v]) => {\n        acc[k] = valueOf(v);\n        return acc;\n      }, {} as { [key: string]: any });\n    }\n  }\n};\n\nfunction assertNever(x: never): never {\n  throw new Error('Unexpected object: ' + x);\n}\n\nexport const valueOfLiteral = (ast: GramLiteral): any => {\n  switch (ast.type) {\n    case 'boolean':\n      return valueOfBoolean(ast);\n    case 'string':\n      return valueOfString(ast);\n    case 'integer':\n      return valueOfInteger(ast);\n    case 'decimal':\n      return valueOfDecimal(ast);\n    case 'hexadecimal':\n      return valueOfHexadecimal(ast);\n    case 'octal':\n      return valueOfOctal(ast);\n    case 'tagged':\n      switch (ast.tag) {\n        case 'date':\n          return valueOfDate(ast as DateLiteral);\n        case 'time':\n          return valueOfTime(ast as TimeLiteral);\n        case 'datetime':\n          return 'TODO';\n        case 'interval':\n          return 'TODO';\n        case 'duration':\n          return 'TODO';\n        case 'uri':\n          return ast.value;\n        case 'wkt':\n          return 'TODO';\n        default:\n          return 'TODO';\n      }\n    case 'measurement':\n      return 'measure by measure';\n    default:\n      return assertNever(ast);\n  }\n};\n\nexport const valueOfBoolean = (ast: BooleanLiteral) =>\n  ast.value && ast.value.toLowerCase() === 'true';\n\nexport const valueOfString = (ast: StringLiteral) => {\n  if (ast.value) {\n    return ast.value;\n  }\n  throw new InvalidAstError(ast);\n};\n\nexport const valueOfTaggedLiteral = (ast: TaggedTextLiteral) => {\n  if (ast.value) {\n    return ast.value;\n  }\n  throw new InvalidAstError(ast);\n};\n\nexport const valueOfDate = (ast: DateLiteral) => {\n  if (ast.value) {\n    let extracted = iso8601YearMonthDay.exec(ast.value);\n    if (extracted) {\n      return new Date(\n        Date.UTC(\n          Number.parseInt(extracted[1]),\n          Number.parseInt(extracted[3]) - 1,\n          Number.parseInt(extracted[4])\n        )\n      );\n    }\n    extracted = iso8601YearMonth.exec(ast.value);\n    if (extracted) {\n      return new Date(\n        Date.UTC(Number.parseInt(extracted[1]), Number.parseInt(extracted[2]))\n      );\n    }\n    extracted = iso8601Year.exec(ast.value);\n    if (extracted) {\n      return new Date(Number.parseInt(extracted[1]), 1);\n    }\n    throw SyntaxError(`Unable to parse date from ${ast.value}`);\n  }\n  throw new InvalidAstError(ast);\n};\n\nconst MILLIS_IN_A_SECOND = 1000;\nconst MILLIS_IN_A_MINUTE = MILLIS_IN_A_SECOND * 60;\nconst MILLIS_IN_AN_HOUR = MILLIS_IN_A_MINUTE * 60;\nconst MILLIS_IN_A_DAY = MILLIS_IN_AN_HOUR * 24;\nconst MILLIS_IN_A_MONTH = MILLIS_IN_A_DAY * 30;\nconst MILLIS_IN_A_YEAR = MILLIS_IN_A_DAY * 365;\n\n/**\n * Value of time as number of milliseconds since midnight.\n *\n * @param ast\n */\nexport const valueOfTime = (ast: TimeLiteral) => {\n  if (ast.value) {\n    const extracted = iso8601Time.exec(ast.value);\n    if (extracted) {\n      const hours = Number.parseInt(extracted[1]);\n      const minutes = extracted[1] ? Number.parseInt(extracted[2]) : 0;\n      const seconds = extracted[3] ? Number.parseFloat(extracted[3]) : 0.0;\n      const tz = extracted[5];\n\n      // console.log('time', extracted, hours, minutes, seconds, tz);\n\n      const millis =\n        hours * MILLIS_IN_AN_HOUR +\n        minutes * MILLIS_IN_A_MINUTE +\n        seconds * MILLIS_IN_A_SECOND;\n\n      if (tz) {\n        const offset =\n          tz === 'Z'\n            ? 0\n            : Number.parseInt(extracted[7]) * MILLIS_IN_AN_HOUR +\n              Number.parseInt(extracted[8] || '0') * MILLIS_IN_A_MINUTE;\n        return new Date(\n          extracted[6] === '-' ? millis + offset : millis - offset\n        );\n      }\n      return new Date(millis);\n    }\n    throw SyntaxError(`Unable to parse time from ${ast.value}`);\n  }\n  throw new InvalidAstError(ast);\n};\n\n/**\n * Evaluates the duration as a total of milliseconds, unreliably estimating milliseconds\n * per year or month. Reliable duration values can only be calculated with precision\n * of days, hours, minutes or seconds.\n *\n * @param ast\n */\nexport const valueOfDuration = (ast: DurationLiteral) => {\n  if (ast.value) {\n    const extracted = iso8601Duration.exec(ast.value);\n    if (extracted) {\n      const years = extracted[2] ? Number.parseInt(extracted[2]) : 0;\n      const months = extracted[4] ? Number.parseInt(extracted[4]) : 0;\n      const days = extracted[6] ? Number.parseInt(extracted[6]) : 0;\n      const hours = extracted[9] ? Number.parseInt(extracted[9]) : 0;\n      const minutes = extracted[11] ? Number.parseInt(extracted[11]) : 0;\n      const seconds = extracted[13] ? Number.parseInt(extracted[13]) : 0;\n\n      // console.log('duration', extracted, years, months, days, hours, minutes, seconds);\n\n      const millis =\n        years * MILLIS_IN_A_YEAR +\n        months * MILLIS_IN_A_MONTH +\n        days * MILLIS_IN_A_DAY +\n        hours * MILLIS_IN_AN_HOUR +\n        minutes * MILLIS_IN_A_MINUTE +\n        seconds * MILLIS_IN_A_SECOND;\n\n      return new Date(millis);\n    }\n    throw SyntaxError(`Unable to parse duration from ${ast.value}`);\n  }\n  throw new InvalidAstError(ast);\n};\n\nexport const valueOfInteger = (ast: IntegerLiteral) => {\n  if (ast.value) {\n    return Number.parseInt(ast.value);\n  } else throw new InvalidAstError(ast);\n};\n\nexport const valueOfMeasurement = (ast: MeasurementLiteral) => {\n  if (ast.value) {\n    return Number.parseInt(ast.value);\n  } else throw new InvalidAstError(ast);\n};\n\nexport const valueOfDecimal = (ast: DecimalLiteral) => {\n  if (ast.value) {\n    return Number.parseFloat(ast.value);\n  } else throw new InvalidAstError(ast);\n};\n\nexport const valueOfHexadecimal = (ast: HexadecimalLiteral) => {\n  if (ast.value) {\n    return Number.parseInt(ast.value, 16);\n  } else throw new InvalidAstError(ast);\n};\n\nexport const valueOfOctal = (ast: OctalLiteral) => {\n  if (ast.value) {\n    return Number.parseInt(ast.value, 8);\n  } else throw new InvalidAstError(ast);\n};\n","import { Plugin, Transformer } from 'unified';\nimport { Node as UnistNode } from 'unist';\n\nimport { isGramPath } from '@gram-data/gram-ast';\nimport { valueOf, valueOfLiteral, LiteralValueEvaluator } from './gram-value';\n\nimport visit from 'unist-util-visit';\n\nexport interface ValuePluginSettings {\n  literalValueEvaluator?: LiteralValueEvaluator;\n}\n\nconst defaultSettings = {\n  literalValueEvaluator: valueOfLiteral,\n};\n\nexport const gramValuePlugin: Plugin<ValuePluginSettings[]> = (\n  settings: ValuePluginSettings\n) => {\n  const s = { ...defaultSettings, ...settings };\n\n  const recordValueEvaluator: Transformer = (tree: UnistNode) => {\n    visit(tree, (element: UnistNode) => {\n      if (isGramPath(element) && element.record) {\n        element.data = Object.assign(element.data || {}, {\n          value: valueOf(element.record, s.literalValueEvaluator),\n        });\n      }\n    });\n  };\n\n  return recordValueEvaluator;\n};\n\nexport default gramValuePlugin;\n","import {\n  gramIdentityPlugin,\n  IdentityPluginSettings,\n} from \"@gram-data/gram-identity\";\nimport { gramValuePlugin, ValuePluginSettings } from \"@gram-data/gram-value\";\n\nexport { IdentityPluginSettings, ValuePluginSettings };\n\nexport const plugins = [gramIdentityPlugin, gramValuePlugin];\n","import { IDGenerator } from './generator-type';\n\n/**\n * Creates an IDGenerator based on incrementing numbers.\n *\n */\nexport const counterIDGenerator = (prefix?: string): IDGenerator => {\n  let nextid = 0;\n  return {\n    generate: () => `${prefix || ''}${nextid++}`,\n  };\n};\n","import { customAlphabet } from 'nanoid';\nimport { alphabets } from './identity-alphabets';\nimport { IDGenerator } from './generator-type';\n\n/**\n * Factory for creating an IDGenerator based on\n * [nanoid](https://github.com/ai/nanoid)\n *\n */\nexport const nanoidGenerator = (\n  alphabet: string = alphabets.base64,\n  size: number = 21,\n  prefix?: string\n): IDGenerator => {\n  const generator = customAlphabet(alphabet, size);\n  return {\n    generate: () => {\n      return prefix ? prefix + generator() : generator();\n    },\n  };\n};\n","import {\n  GramGraphData,\n  GramLinkDatum,\n  GramNodeDatum,\n  GramPathDatum,\n  makeGramLinkDatum,\n  makeGramNodeDatum,\n  MISSING_ID,\n  PathDatumRecord,\n} from './d3-gram-types';\n\nimport { GramEdge, GramNode, GramPath, isGramNode } from '@gram-data/gram-ast';\nimport { edges, nodes } from '@gram-data/gram-ops';\n\nimport unified from 'unified';\nimport { gramParserPlugin } from '@gram-data/gram-parse';\nimport * as gramPresetBasic from '@gram-data/gram-preset-basic';\n\nconst gramProcessor = unified()\n  .use(gramParserPlugin)\n  .use(gramPresetBasic);\n\n/**\n * Parses text as [gram](https://github.com/gram-data/gram-js),\n * returning a graph representated nodes, links and paths.\n *\n * @param src\n */\nexport const parse = (src: string): GramGraphData => {\n  const parsed: GramPath = gramProcessor.runSync(\n    gramProcessor.parse(src)\n  ) as GramPath;\n  const gramGraph = {\n    nodes: (nodes(parsed) as GramNode[]).map(nodeToD3),\n    links: (edges(parsed) as GramEdge[]).map(edgeToD3),\n    paths: [] as GramPathDatum[],\n  };\n\n  return gramGraph;\n};\n\nexport const dataFromPath = (p: GramPath): PathDatumRecord => {\n  return p.data && p.data.value\n    ? (p.data.value as PathDatumRecord)\n    : p.record\n    ? p.record\n    : {};\n};\n\nexport const nodeToD3 = (node: GramNode): GramNodeDatum => {\n  return isGramNode(node)\n    ? makeGramNodeDatum(node.id, node.labels, dataFromPath(node))\n    : makeGramNodeDatum('random');\n};\n\nconst source = (edge: GramEdge): string => {\n  if (edge.kind === 'left') return edge.children[1].id || MISSING_ID;\n  return edge.children[0].id || MISSING_ID;\n};\n\nconst target = (edge: GramEdge): string => {\n  if (edge.kind === 'left') return edge.children[0].id || MISSING_ID;\n  return edge.children[1].id || MISSING_ID;\n};\n\nexport const edgeToD3 = (edge: GramEdge): GramLinkDatum => {\n  return makeGramLinkDatum(\n    source(edge),\n    target(edge),\n    edge.id,\n    edge.labels,\n    dataFromPath(edge)\n  );\n};\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return this.children;\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport array from \"../array.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = array(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    var group = select.apply(this, arguments);\n    return group == null ? [] : array(group);\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(selection) {\n  if (!(selection instanceof Selection)) throw new Error(\"invalid merge\");\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // nobreak\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(random) {\n  return (random() - 0.5) * 1e-6;\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      random,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(random), l += x * x;\n            if (y === 0) y = jiggle(random), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","import constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"node not found: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      random,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle(random);\n        y = target.y + target.vy - source.y - source.vy || jiggle(random);\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d])),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","// https://en.wikipedia.org/wiki/Linear_congruential_generator#Parameters_in_common_use\nconst a = 1664525;\nconst c = 1013904223;\nconst m = 4294967296; // 2^32\n\nexport default function() {\n  let s = 1;\n  return () => (s = (a * s + c) % m) / m;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {pi, tau} from \"../math.js\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","import {pi, tau} from \"../math.js\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport star from \"./symbol/star.js\";\nimport square from \"./symbol/square.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport wye from \"./symbol/wye.js\";\nimport constant from \"./constant.js\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function(type, size) {\n  var context = null;\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","import * as d3 from 'd3';\n\nimport { GramGraphData } from './d3-gram-types';\n\nconst initializeSimulation = (center: { x: number; y: number }) =>\n  d3\n    .forceSimulation()\n    .force('charge', d3.forceManyBody().strength(-30))\n    .force('center', d3.forceCenter(center.x, center.y))\n    .force('collision', d3.forceCollide().radius(30))\n    .stop();\n\n/**\n *\n * All numbers are in scale-free units.\n *\n */\nexport interface D3GramLayoutConfiguration {\n  /**\n   * Scene width.\n   */\n  width: number;\n  /**\n   * Scene height.\n   */\n  height: number;\n  /**\n   * How long to run the simulation.\n   */\n  ticks: number;\n}\n\nconst defaultLayoutConfiguration: D3GramLayoutConfiguration = {\n  width: 1200,\n  height: 800,\n  ticks: 300,\n};\n\n/**\n *\n * @param graph\n * @param configuration\n */\nexport const layout = (\n  graph: GramGraphData,\n  configuration: Partial<D3GramLayoutConfiguration> = {}\n) => {\n  const _config: D3GramLayoutConfiguration = Object.assign(\n    defaultLayoutConfiguration,\n    configuration\n  );\n\n  const center = { x: _config.width / 2, y: _config.height / 2 };\n  let simulation = initializeSimulation(center);\n\n  simulation.nodes(graph.nodes);\n  simulation.force(\n    'link',\n    d3.forceLink(graph.links).id((d: any) => d.id)\n  );\n\n  for (\n    let tick = 0;\n    tick < _config.ticks && simulation.alpha() > simulation.alphaMin();\n    tick++\n  ) {\n    simulation.tick();\n  }\n\n  return simulation;\n};\n","import * as d3 from 'd3';\nimport { BaseType, select } from 'd3-selection';\n\nimport {\n  GramNodeDatum,\n  GramLinkDatum,\n  isGramNodeDatum,\n  GramGraphData,\n} from './d3-gram-types';\n\nconst nodeShaper = (shapeRadius: number) => {\n  const shapeSize = Math.PI * shapeRadius * shapeRadius; // the area of the shape\n\n  const shapeDomain = new Map([\n    ['Person', 'square'],\n    ['Triangle', 'triangle'],\n    ['Movie', 'star'],\n    ['Event', 'wye'],\n  ]);\n\n  const symbolPathData = new Map([\n    [\n      'circle',\n      d3\n        .symbol()\n        .type(d3.symbolCircle)\n        .size(shapeSize)(),\n    ],\n    [\n      'square',\n      d3\n        .symbol()\n        .type(d3.symbolSquare)\n        .size(shapeSize)(),\n    ],\n    [\n      'triangle',\n      d3\n        .symbol()\n        .type(d3.symbolTriangle)\n        .size(shapeSize)(),\n    ],\n    [\n      'cross',\n      d3\n        .symbol()\n        .type(d3.symbolCross)\n        .size(shapeSize)(),\n    ],\n    [\n      'diamond',\n      d3\n        .symbol()\n        .type(d3.symbolDiamond)\n        .size(shapeSize)(),\n    ],\n    [\n      'star',\n      d3\n        .symbol()\n        .type(d3.symbolStar)\n        .size(shapeSize)(),\n    ],\n    [\n      'wye',\n      d3\n        .symbol()\n        .type(d3.symbolWye)\n        .size(shapeSize)(),\n    ],\n  ]);\n\n  return (node: GramNodeDatum) => {\n    const shape =\n      node.labels !== undefined\n        ? shapeDomain.get(node.labels[0]) || 'circle'\n        : 'circle';\n    return symbolPathData.get(shape) || '';\n  };\n};\n\nconst interpolatedColorScheme = (\n  size: number,\n  interpolator: (n: number) => string\n) => {\n  var interpolatedColors = [];\n  for (let i = 1; i <= size; i++) {\n    interpolatedColors.push(interpolator(i / size));\n  }\n  return interpolatedColors;\n};\n\nconst colorsFor = (graph: GramGraphData) => {\n  const labelsFrom = (graph: GramGraphData) => {\n    return Array.from(\n      graph.nodes\n        .reduce((foundLabels, node) => {\n          node.labels.forEach(label => foundLabels.add(label));\n          return foundLabels;\n        }, new Set())\n        .values()\n    );\n  };\n\n  const labels = labelsFrom(graph);\n\n  // const scale = d3.scaleOrdinal(d3.schemeCategory10);\n  const scale = d3.scaleOrdinal(\n    interpolatedColorScheme(labels ? labels.length + 1 : 1, d3.interpolateTurbo)\n  );\n  return (d: GramNodeDatum) => scale(d.labels[0]);\n};\n\nexport const updateLinks = (links: any) => {\n  links\n    .attr('x1', (d: GramLinkDatum) =>\n      isGramNodeDatum(d.source) ? d.source.x : 0\n    )\n    .attr('y1', (d: GramLinkDatum) =>\n      isGramNodeDatum(d.source) ? d.source.y : 0\n    )\n    .attr('x2', (d: GramLinkDatum) =>\n      isGramNodeDatum(d.target) ? d.target.x : 0\n    )\n    .attr('y2', (d: GramLinkDatum) =>\n      isGramNodeDatum(d.target) ? d.target.y : 0\n    );\n};\n\nexport const updateNodes = (nodes: any) => {\n  nodes.attr('transform', function(d: any) {\n    return 'translate(' + d.x + ',' + d.y + ')';\n  });\n};\n\ninterface D3GramDrawConfiguration {\n  shapeRadius: number;\n}\n\nconst defaultConfiguration: D3GramDrawConfiguration = {\n  shapeRadius: 2,\n};\n\n/**\n *\n * @param graph gram source text\n * @param selector dom selector for an svg element\n * @param D3GramDrawConfiguration\n */\nexport const draw = (\n  graph: GramGraphData,\n  selector: string | BaseType,\n  configuration: Partial<D3GramDrawConfiguration> = {}\n) => {\n  const mergedConfiguration = Object.assign(\n    defaultConfiguration,\n    configuration\n  );\n\n  const shapeFor = nodeShaper(mergedConfiguration.shapeRadius);\n\n  const colorFor = colorsFor(graph);\n\n  const svg = select(selector);\n\n  let linkSelection = svg\n    .append('g')\n    .attr('stroke', '#999')\n    .attr('stroke-opacity', 0.6)\n    .selectAll('line')\n    .data(graph.links)\n    .join('line')\n    .attr('stroke-width', 2);\n  // .attr(\"stroke-width\", d => Math.sqrt(d.value));\n\n  let nodeSelection = svg\n    .append('g')\n    .attr('class', 'nodes')\n    .selectAll('g')\n    .data(graph.nodes)\n    .enter()\n    .append('g');\n\n  nodeSelection\n    .append('path')\n    .attr('fill', colorFor)\n    .attr('stroke', d =>\n      (d3.color(colorFor(d)) || d3.rgb(0x33, 0x33, 0x33)).darker().hex()\n    )\n    .attr('stroke-width', 4)\n    .attr('d', shapeFor);\n\n  nodeSelection.append('title').text(function(d) {\n    return d.id;\n  });\n\n  updateNodes(nodeSelection);\n  updateLinks(linkSelection);\n\n  return {\n    nodeSelection,\n    linkSelection,\n  };\n};\n","import {Simulation, SimulationNodeDatum, SimulationLinkDatum, drag as d3Drag} from 'd3';\n\nexport const drag = <ActualNodeDatum extends SimulationNodeDatum, ActualLinkDatum extends SimulationLinkDatum<ActualNodeDatum>>(simulation:Simulation<ActualNodeDatum,ActualLinkDatum>) => {\n  \n  function dragstarted(event:any) {\n    if (!event.active) simulation.alphaTarget(0.3).restart();\n    event.subject.fx = event.subject.x;\n    event.subject.fy = event.subject.y;\n  }\n  \n  function dragged(event:any) {\n    event.subject.fx = event.x;\n    event.subject.fy = event.y;\n  }\n  \n  function dragended(event:any) {\n    if (!event.active) simulation.alphaTarget(0);\n    event.subject.fx = null;\n    event.subject.fy = null;\n  }\n\n  return d3Drag()\n      .on(\"start\", dragstarted)\n      .on(\"drag\", dragged)\n      .on(\"end\", dragended);\n}\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","import {quadtree} from \"d3-quadtree\";\nimport constant from \"./constant.js\";\nimport jiggle from \"./jiggle.js\";\nimport {x, y} from \"./simulation.js\";\n\nexport default function() {\n  var nodes,\n      node,\n      random,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(random), l += x * x;\n        if (y === 0) y = jiggle(random), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(random), l += x * x;\n      if (y === 0) y = jiggle(random), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_nodes, _random) {\n    nodes = _nodes;\n    random = _random;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","export default function(x, y) {\n  var nodes, strength = 1;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = (sx / n - x) * strength, sy = (sy / n - y) * strength, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  return force;\n}\n"],"names":["MISSING_ID","makeGramNodeDatum","id","labels","record","isGramNodeDatum","o","undefined","makeGramLinkDatum","source","target","identifier","checkIdentifierRegex","RegExp","s","test","isGramPath","type","isGramEmptyPath","isGramNode","children","length","isGramLiteral","value","normalizeChildren","Array","isArray","Function","cons","members","attributes","element","EMPTY_PATH","lhs","kind","node","edge","emptyRecord","Map","objectToRecord","Object","entries","reduce","acc","set","propertyValue","map","v","Date","date","string","decimal","toString","boolean","Error","tagged","tag","String","toISOString","slice","head","p","tail","nodes","unidentifiedNodes","nodemap","flat","child","has","assign","get","push","from","values","concat","edges","err","obj","constructor","isBuffer","hasOwn","prototype","hasOwnProperty","toStr","defineProperty","gOPD","getOwnPropertyDescriptor","arr","call","isPlainObject","key","hasOwnConstructor","hasIsPrototypeOf","setProperty","options","name","enumerable","configurable","newValue","writable","getProperty","extend","src","copy","copyIsArray","clone","arguments","i","deep","getPrototypeOf","fn","callback","invoked","result","params","done","apply","error","then","trough","wrap","fns","middleware","run","index","input","next","pos","use","own","position","point","line","column","start","end","VMessage","VMessagePrototype","proto","reason","origin","parts","range","location","indexOf","parseOrigin","stringify","stack","this","message","ruleId","normalize","path","absolute","assertPath","charCodeAt","allowAboveRoot","code","lastSlashIndex","lastSegmentLength","lastSlash","dots","lastIndexOf","normalizeString","TypeError","JSON","file","fatal","ext","firstNonSlashEnd","seenNonSlash","extIndex","joined","VFile","order","prop","buffer","contents","data","messages","history","cwd","assertPart","part","assertNonEmpty","encoding","unmatchedSlash","dirname","basename","startDot","startPart","preDotState","extname","stem","info","fail","require$$0","unified","attachers","transformers","namespace","frozen","freezeIndex","processor","assertUnfrozen","freeze","settings","addPlugin","addList","addPreset","plugins","add","plugin","entry","find","plain","parse","doc","Parser","vfile","assertParser","newable","Compiler","assertCompiler","assertNode","compile","runSync","complete","tree","bail","assertDone","process","processSync","destination","transformer","Infinity","cb","Promise","executor","resolve","reject","pipeline","ctx","keys","asyncName","root","factory","module","exports","nearley","Rule","symbols","postprocess","highestId","State","rule","dot","reference","wantedBy","isComplete","Column","grammar","states","wants","scannable","completed","Grammar","rules","byName","forEach","StreamLexer","reset","fromCompiled","keepHistory","lexer","lexerState","table","predict","current","getSymbolShortDisplay","symbol","literal","withCursorAt","symbolSequence","join","nextState","state","left","right","build","reverse","finish","nextColumn","w","exp","nulls","Lexer","ParserStart","ParserRules","g","r","lastLineBreak","col","ch","save","formatError","token","lines","split","Math","max","nextLineBreak","lastLineDigits","pad","n","feed","chunk","e","reportLexerError","offset","text","expect","isToken","reportError","results","lexerError","tokenDisplay","lexerMessage","reportErrorCommon","lastColumn","expectantStates","filter","nextSymbol","displayStateStack","buildFirstStateStack","stateStack","symbolDisplay","getSymbolDisplay","lastDisplay","sameDisplayCount","j","display","getSymbolLongDisplay","visited","prevState","childVisited","childResult","restore","splice","rewind","considerations","t","c","d","moo","hasSticky","sticky","isRegExp","isObject","reGroups","exec","reCapture","reUnion","regexps","regexpOrLiteral","replace","reEscape","ignoreCase","global","multiline","ruleOptions","match","include","defaultType","lineBreaks","fallback","pop","shouldThrow","sort","a","b","toRules","spec","array","arrayToRules","object","getOwnPropertyNames","objectToRules","defaultErrorRule","compileRules","hasStates","errorRule","fast","create","fastAllowed","unicodeFlag","groups","shift","unicode","pat","regexp","fallbackRule","flags","suffix","checkStateGroup","startState","queuedToken","queuedThrow","setState","re","popState","pushState","eat","tokenToString","_getGroup","groupCount","queuedGroup","_token","queuedText","group","charAt","lastIndex","matchNL","nl","size","Symbol","iterator","LexerIterator","eol","firstLine","substring","tokenType","all","$all","ruleMap","included","newRules","k","newRule","fastKeys","keywords","reverseMap","byLength","types","item","keyword","str","x","whitespace","lineComment","hexadecimal","tokens","octal","measurement","integer","taggedString","doubleQuotedString","singleQuotedString","tickedString","ø","empty","depth","es","attrs","attr","_","toLowerCase","taggedStringValue","valueParts","separateTagFromString","unit","measurementValue","separateNumberFromUnits","nearleyParser","parsed","gramParserPlugin","random","bytes","crypto","getRandomValues","Uint8Array","ok","visitParents","visitor","step","is","convert","Boolean","typeFactory","tests","checks","anyFactory","allFactory","parents","visit","displayName","tagName","subresult","grandparents","toResult","CONTINUE","SKIP","EXIT","parent","defaultSettings","generator","alphabet","prefix","iso8601Year","iso8601YearMonth","iso8601YearMonthDay","iso8601Time","InvalidAstError","ast","valueOf","recordValue","literalValueEvaluator","valueOfLiteral","isGramLiteralArray","valueOfBoolean","valueOfString","valueOfInteger","valueOfDecimal","valueOfHexadecimal","valueOfOctal","valueOfDate","valueOfTime","assertNever","extracted","UTC","Number","parseInt","SyntaxError","hours","minutes","seconds","parseFloat","tz","millis","MILLIS_IN_A_MINUTE","MILLIS_IN_A_SECOND","nextid","getRandom","mask","log","LN2","customRandom","customAlphabet","generate","nanoidGenerator","gramProcessor","gramPresetBasic","dataFromPath","nodeToD3","edgeToD3","noop","dispatch","Dispatch","parseTypenames","typenames","trim","on","typename","T","that","args","xhtml","svg","xlink","xml","xmlns","namespaces","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","none","selector","querySelector","querySelectorAll","matches","childMatcher","childFirst","firstElementChild","update","EnterNode","datum","_next","_parent","__data__","bindIndex","enter","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","delete","ascending","NaN","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","defaultView","styleRemove","style","removeProperty","styleConstant","priority","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","appendChild","lower","previousSibling","insertBefore","firstChild","constantNull","removeChild","selection_cloneShallow","cloneNode","selection_cloneDeep","onRemove","__on","m","removeEventListener","listener","onAdd","event","contextListener","addEventListener","dispatchEvent","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","contains","Selection","_groups","_parents","selection","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","clientX","y","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","clientLeft","top","clientTop","pageX","pageY","nopropagation","stopImmediatePropagation","preventDefault","select","subgroups","subnode","subgroup","selectAll","arrayAll","selectorAll","selectChild","childFind","selectChildren","childrenFilter","matcher","bind","constant","enterGroup","updateGroup","exitGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","groups0","groups1","m0","min","merges","group0","group1","compareDocumentPosition","compare","compareNode","sortgroups","sortgroup","each","getAttributeNS","property","classed","html","creator","insert","before","[object Object]","DragEvent","subject","active","dx","dy","defineProperties","defaultFilter","ctrlKey","button","defaultContainer","defaultSubject","defaultTouchable","navigator","maxTouchPoints","definition","Color","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","l","rgbn","Rgb","rgba","hsla","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatRgb","isNaN","round","h","Hsl","hslConvert","hsl2rgb","m1","m2","define","channels","displayable","formatHsl","brighter","pow","darker","nogamma","linear","rgbGamma","exponential","gamma","colorRgb","reA","reB","am","bm","bs","bi","q","number","one","zero","svgNode","degrees","PI","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","f","sqrt","atan2","atan","interpolateTransform","pxComma","pxParen","degParen","xa","ya","xb","yb","translate","scale","taskHead","taskTail","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","transform","baseVal","consolidate","matrix","frame","timeout","interval","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","setTimeout","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","timerFlush","t0","t2","t1","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","stop","emptyOn","emptyTween","timing","schedules","__transition","self","tween","tick","duration","ease","init","schedule","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","interpolateNumber","interpolateRgb","interpolateString","interpolate","value1","string00","interpolate0","string1","string0","string10","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","every","styleInterpolate","styleTween","textInterpolate","textTween","Transition","_name","newId","selection_prototype","inherit","id0","id1","styleNull","listener0","styleMaybeRemove","removeFunction","easeVarying","cancel","interrupt","defaultTiming","pi","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","xm","ym","xp","yp","bottom","_root","leaf","x0","y0","x1","y1","_x","_y","defaultX","defaultY","quadtree","Quadtree","addAll","leaf_copy","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","x2","y2","arcTo","x21","y21","x01","y01","l01_2","abs","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","a1","ccw","cos","sin","cw","da","treeProto","vx","vy","nodeById","nodeId","cover","xz","yz","floor","z","extent","radius","x3","y3","quads","Quad","d2","retainer","removeAll","visitAfter","initialAngle","initRange","domain","implicit","draw","context","tan30","tan30_2","kr","kx","ky","sqrt3","circle","defaultLayoutConfiguration","width","height","ticks","updateLinks","links","updateNodes","defaultConfiguration","shapeRadius","simulation","mousedownx","mousedowny","mousemoving","touchending","container","touchable","gestures","listeners","clickDistance2","drag","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","view","mousemoved","mouseupped","noevent","__noselect","MozUserSelect","nodrag","mouse","noclick","yesdrag","touches","changedTouches","touch","pointer","p0","clickDistance","d3Drag","alphaTarget","fx","fy","graph","configuration","shapeFor","shapeSize","shapeDomain","symbolPathData","d3","shape","nodeShaper","colorFor","foundLabels","label","Set","labelsFrom","ordinal","unknown","interpolator","interpolatedColors","interpolatedColorScheme","colorsFor","linkSelection","nodeSelection","_config","center","alpha","alphaMin","alphaDecay","velocityDecay","forces","stepper","lcg","iterations","force","initializeNodes","angle","initializeForce","initialize","randomSource","closest","strengths","strength","distanceMin2","distanceMax2","theta2","accumulate","quad","weight","jiggle","_nodes","_random","distanceMin","distanceMax","theta","sx","sy","radii","xi","yi","ri","ri2","prepare","rj","distances","count","bias","link","distance","initializeStrength","initializeDistance","paths"],"mappings":"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"}